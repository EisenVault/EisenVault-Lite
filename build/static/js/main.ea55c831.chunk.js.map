{"version":3,"sources":["hoc/Auxiliary.js","Components/Backdrop/Backdrop.js","Components/Modal/Modal.js","Components/Modal/DeleteModalSumm/DeleteSumm.js","Utils/Common.js","Components/Login/Login.js","Components/Navigation/NavigationItems/ProgressBar/ProgressBar.js","Components/Navigation/NavigationItems/NavigationItems.js","Components/MobileMenu/MobileSidebar/Sidedrawer.js","Components/MobileMenu/MobileMenu.js","Components/Footer/Footer.js","Components/UI/uploadPopups.js","Components/SearchBar/SearchBar.js","Components/Avtar/Avtar.js","Components/Pagination/Pagination.js","Utils/LoadingIndicator.js","Components/MyUploads/MyUploads.js","Components/Dashboard/Dashboard.js","Components/Documents/DocumentList.js","Components/UI/popup.js","Components/Trash/TrashDisplay.js","Components/ManageShares/ManageShares.js","Components/ChangePassword/ChangePassword.js","Components/backButton/backButton.js","Components/Documents/SubDocument/SubDocument.js","Components/MoreDetails/FullAuditTrails.js","Components/MoreDetails/MoreDetails.js","Components/Documents/DocumentViewer/DocumentViewer.js","Components/SearchBar/SearchResult.js","Utils/PrivateRoutes.js","Containers/Routings.js","Containers/App.js","index.js"],"names":["Auxiliary","props","children","Backdrop","show","className","onClick","click","Modal","style","transform","opacity","ForgotPassword","type","url","id","required","forgotPswdUserName","resetPassword","pswdloading","clicked","DeleteDepartment","name","row","col","deleteDept","setUrl","localStorage","setItem","getUser","getItem","getUrl","getToken","useFormInput","initialValue","useState","value","setValue","onChange","e","target","LoginPage","newUrl","loading","setLoading","setPswdLoading","error","setError","modalIsOpen","setmodalIsOpen","err","setPswdError","userName","password","startsWith","replace","handleLogin","axios","post","userId","then","response","data","entry","history","push","catch","status","message","placeholder","onKeyPress","event","key","color","disabled","alertify","alert","setting","destroy","console","log","bytesToSize","bytes","seperator","sizes","i","parseInt","Math","floor","toFixed","ProgressBar","getData","useEffect","Axios","get","headers","Authorization","btoa","freeSpace","storeFreeSpace","usedSpace","storageSpaceConsumed","NavigationItems","useHistory","user","to","icon","faHome","faFileAlt","faFolderOpen","faShareAlt","rel","href","faHeadset","faTrash","faKey","faSignOutAlt","delete","SideDrawer","drawerclasses","role","DrawerToggleButton","drawertoggleHandler","Footer","NestedToolTipuploads","trigger","position","closeOnDocumentClick","close","modal","a","del","delsel","Search","setData","setFilterd","result","setResult","setShow","length","items","Error","fetchData","onKeyUp","onOutsideClick","map","r","nodeRef","substring","ProfilePic","profileInitials","setProfileInitials","charAt","size","round","maxInitials","title","Pagination","handlePrev","handleNext","LoadingIndicator","usePromiseTracker","promiseInProgress","width","height","display","justifyContent","alignItems","MyUploads","lastButtonClicked","setLastButtonClicked","FileState","setFileState","setMoreItems","skipCount","setSkipCount","totalitems","settotalitems","trackPromise","FileData","list","pagination","hasMoreItems","totalItems","entries","d","select","uploadedOn","createdAt","split","isFile","checked","forEach","file","faFile","faFolder","faTimesCircle","confirm","transition","buttonFocus","localSkipCount","document","getElementById","Dashboard","personId","useParams","documents","setDocuments","noPreviewIcon","activitySummary","siteId","postedAt","activityType","includes","handleDocument","objectId","faEye","DocumentsList","deletemodalIsOpen","deletesetmodalIsOpen","setPaginationDefaultDept","departments","setDepartments","getDepartments","department","faGlobeAsia","guid","folders","faTrashAlt","NestedToolTip","defdelete","deleted","defrestore","restored","TrashDisplayFiles","TrashFileState","setTrashFileState","currentPage","postsPerPage","setPaginationDefault","setCount","getDeletedData","createdOn","archivedAt","indexOfLastPost","indexOfFirstPost","currentPosts","slice","put","faUndo","count","ManageShares","DetailsState","setDetailsState","getDetailsData","nodeId","EFFECTIVEFROM","properties","EFFECTIVETO","NAME","faFilePdf","ChangePassword","oldPassword","toUpperCase","newPassword","confirmPassword","newpw","oldpw","Item","data-test","goBack","SubDocument","setPaginationDefaultDoc","createdByUser","displayName","modifiedAt","handleDelete","FullAudittrails","params","fullAuditDetails","setFullAuditDetails","window","location","MoreData","timeF","time","actionF","method","userF","DocumentDetails","createdBy","setCreatedBy","setCreatedAt","docSize","setDocSize","modificationDate","setmodificationDate","documentType","setDocumentType","latestVersion","setLatestVersion","auditDetails","setAuditDetails","nodeType","content","action","sharedLink","sizeInBytes","audit","ToggleButton","label","AnimatedVisibility","visible","noDisplay","setNoDisplay","setTimeout","isVisible","Sidebar","open","DocPreview","sidebarIsOpen","setSidebarOpen","path","token","fileType","pop","acceptedFileTypes","acceptedMsOfficeTypes","Viewer","PdfViewer","src","onLoad","encodeURIComponent","marginWidth","allowFullScreen","isOpen","SearchResult","PrivateRoute","Component","component","rest","render","pathname","state","from","Routings","withRouter","authLoading","setAuthLoading","sideDrawerOpen","setsideDrawerOpen","removeItem","backdrop","backdropClickHandler","exact","prevState","documentsList","App","rootElement","ReactDOM"],"mappings":"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","file":"static/js/main.ea55c831.chunk.js","sourcesContent":["const Auxiliary=(props)=>props.children;\r\nexport default Auxiliary;","import React from 'react';\r\nimport './Backdrop.scss';\r\n\r\nconst Backdrop=(props)=>(\r\n   props.show ? <div className=\"Backdrop\" onClick={props.click}/> :null\r\n);\r\n\r\nexport default Backdrop;","import React from 'react'\r\nimport './Modal.scss'\r\nimport Auxiliary from '../../hoc/Auxiliary'\r\nimport Backdrop from '../Backdrop/Backdrop'\r\n\r\nconst Modal =(props)=>(\r\n  <Auxiliary>\r\n    <Backdrop show={props.show}/>\r\n    <div className=\"Modal\"\r\n      style={{\r\n        transform:props.show ? 'translateY(0)' : 'translateY(-100vh)',\r\n        opacity:props.show ? '1': '0'\r\n      }}>{props.children}</div>\r\n  </Auxiliary>\r\n  );\r\n\r\nexport default Modal;","import React, { Fragment } from \"react\";\r\nimport \"./Deletesumm.scss\";\r\n\r\nexport const ForgotPassword = props => {\r\n  return(\r\n    <Fragment>\r\n      <div className=\"modal-header\">\r\n        <h2>Forgot Password</h2>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <h3>You will recieve an email link to reset password.</h3>\r\n           \r\n            <div className=\"label-input\">\r\n            <label>URL:</label>\r\n              <input type=\"text\" {...props.url} id=\"urlFrgtPswd\" required/>\r\n                <br/>\r\n              <label>Username:</label>\r\n              <input type=\"text\" {...props.forgotPswdUserName} required/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"btns\">\r\n          <button className=\"btn-continue-p\" \r\n          onClick= {props.resetPassword}>\r\n          {props.pswdloading? \r\n          (\"Please Wait while we are sending email...\") :(\"Email\")}\r\n            </button>\r\n          <button onClick={props.clicked} className=\"btn-cancel-p\">\r\n            Cancel</button>\r\n        </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport const DeleteDepartment = (props) => {\r\n  return(\r\n    <Fragment>\r\n      <div className=\"modal-header\">\r\n        <h2>Delete Department</h2>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <h3>Please select the department you want to delete</h3>\r\n           \r\n            <div className=\"label-input\">\r\n              <label>Departments:</label>\r\n              <input type=\"text\" name=\"name\">\r\n              </input>\r\n              </div>\r\n              <br></br>\r\n              <div className=\"label-input\">\r\n              <label>URL:</label>\r\n              <input type=\"text\" name=\"url\"></input>\r\n              </div>\r\n              <br></br>\r\n              <div className=\"label-input\">\r\n            <label>Description:</label>\r\n            <textarea row=\"8\" col=\"60\"></textarea>\r\n            </div>\r\n            \r\n            <div className=\"label-input\">\r\n            <input type=\"checkbox\"></input>\r\n            <label>Please confirm whether you want to delete the department and all its contents.</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div id=\"btns\">\r\n\r\n          <button className=\"btn-continue\">Delete Department</button>\r\n          <button className=\"btn-continue\" onClick={props.deleteDept}>Delete</button>\r\n          <button onClick={props.clicked} className=\"btn-cancel\">Cancel</button>\r\n        </div>\r\n    </Fragment>\r\n  )\r\n}","import axios from 'axios';\r\n\r\n// set the token and user from the local storage\r\n  export const setUserLocal = (id, userId) => {\r\n  localStorage.setItem('id', id);\r\n  localStorage.setItem('userId', userId);\r\n  }\r\n\r\n// set the URL and user from the local storage\r\nexport const setUrl = (url) => {\r\n  localStorage.setItem('url', url);\r\n}\r\n\r\n// return the user data from the Local storage\r\n  export const getUser = () => {\r\n    return localStorage.getItem('userId');\r\n  }\r\n   \r\n  // return the URL from the Local storage\r\n  export const getUrl = () => {\r\n    return localStorage.getItem('url')    \r\n  }\r\n\r\n  // return the token from the Local storage\r\n  export const getToken = () => {\r\n    return localStorage.getItem('id');\r\n  }\r\n   \r\n  // remove the token and user from the Local storage\r\n  export const removeUserLocal = () => {\r\n    localStorage.removeItem('url');\r\n    localStorage.removeItem('id');\r\n    localStorage.removeItem('userId');\r\n  }","import React, { Fragment, useState } from 'react';\r\nimport axios from 'axios';\r\nimport alertify from 'alertifyjs';\r\n\r\nimport Modal from '../Modal/Modal';\r\nimport { ForgotPassword } from '../Modal/DeleteModalSumm/DeleteSumm';\r\nimport { setUserLocal, getUrl, setUrl } from '../../Utils/Common';\r\nimport './LoginPage.scss';\r\n\r\n/******************************************\r\n* File: Login.js\r\n* Desc: Function to handle the user login and take url input from user.\r\n* @returns: Handle user login.\r\n* @author: Shayane Basu, 06 October 2020\r\n********************************************/\r\nconst LoginPage = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [pswdloading, setPswdLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [modalIsOpen, setmodalIsOpen] = useState(false);\r\n\r\n  const [err, setPswdError] = useState(null);\r\n\r\n  const userName = useFormInput ('');\r\n  const password = useFormInput ('');\r\n  const forgotPswdUserName = useFormInput ('');\r\n\r\n  //Take url input from user\r\n  let url = useFormInput('');\r\n  let newUrl\r\n  //Different checks to ensure that user enters correct url.\r\n  url.value.startsWith(\"https://\") ?   \r\n  newUrl = url.value.replace(/\\/?(\\?|#|$)/, '/$1'):\r\n  newUrl = \"https://\" + url.value.replace(/\\/?(\\?|#|$)/, '/$1')\r\n\r\n  //Function to handle login with API call.\r\n  const handleLogin = () => {\r\n    setUrl(newUrl)\r\n\r\n    setError(null);\r\n    setLoading(true);\r\n\r\n    axios.post(getUrl()+'alfresco/api/-default-/public/authentication/versions/1/tickets', \r\n    { userId: userName.value, password: password.value}).then(response => {\r\n      setLoading(false);\r\n      setUserLocal(response.data.entry.id, response.data.entry.userId);\r\n      props.history.push('/dashboard');\r\n    }).catch(error => {\r\n      setLoading(false);\r\n      if (error.response.status === 401) setError(error.response.data.message);\r\n      else \r\n      setError(\"Your authentication details have not been recognized or EisenVault may not be available at this time.\");\r\n    });\r\n  }\r\n\r\n  const closeModal=()=>{ //function to close modal after performing it's operations\r\n  return (setmodalIsOpen(false)\r\n   )\r\n}\r\n\r\n//Function to handle forgot password with API call.\r\nfunction HandleForgotPassword() {\r\n  setPswdError(null);\r\n  setUrl(newUrl)\r\n  setPswdLoading(true);\r\n\r\n  axios.post(getUrl()+'share/proxy/alfresco-noauth/com/flex-solution/reset-password',\r\n  { userName: forgotPswdUserName.value }).then(response => {\r\n    setPswdLoading(false);\r\n    closeModal();\r\n    \r\n    alertify.alert('Please Check your registered email id.').setting({\r\n      'message': 'Please Check your registered email id.',\r\n      'onok': () => {alertify.alert().destroy();} \r\n    });\r\n    console.log(\"Email Sent\");\r\n    console.log(response);\r\n  }).catch(err => {\r\n    if (err.response.status === 401) \r\n    setPswdError(err.response.data.message);\r\n      else \r\n      setPswdError(\"The user name doesn't exist.\");\r\n  });\r\n}\r\n\r\nif (loading) {\r\n  return <div><i className=\"fa fa-spinner fa-spin\" /> Loading...</div>\r\n}\r\n\r\n//Function to login when you click on enter key.\r\nconst onEnter = (event) => {\r\n  if (event.key === \"Enter\")\r\n  handleLogin()\r\n}\r\n\r\n\r\n    return(\r\n\r\n      <Fragment>\r\n\r\n        <div id=\"bg-bar\">\r\n\r\n        <div className=\"login-box\">\r\n            <div className=\"login-details\">\r\n              <input type=\"text\" {...url} \r\n                id=\"url\" placeholder=\"URL\" required\r\n                />\r\n                <br/>\r\n                <input type=\"text\" {...userName} \r\n                id=\"user-name\" placeholder=\"User Name\" required/>\r\n                  <br />\r\n                <input type=\"password\" {...password} \r\n                onKeyPress={onEnter}\r\n                placeholder=\"Password\" id=\"pswd\" required/>\r\n            </div>\r\n\r\n            <div id=\"btns_new\">\r\n                {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}\r\n                <br />\r\n                <button id=\"btn_login\" type=\"button\" \r\n                value={loading ? 'Loading...' : 'Login'} \r\n                onClick={handleLogin} disabled={loading}>\r\n                Login</button>\r\n                <br />\r\n\r\n                <Modal show={modalIsOpen}>\r\n                \r\n                  <ForgotPassword     \r\n                  pswdloading={pswdloading}              \r\n                  resetPassword={HandleForgotPassword}\r\n                  clicked={() => setmodalIsOpen(false)}\r\n                  forgotPswdUserName={forgotPswdUserName}\r\n                  url={url}/>\r\n\r\n                  {err && <><small style={{ color: 'red' }}>\r\n                  {err}</small><br /></>}\r\n                </Modal>     \r\n\r\n               <button id=\"btn_forgotPassword\" type=\"button\" \r\n                  onClick={() => {return(setmodalIsOpen(true))}}>\r\n                    Forgot Password?</button>\r\n                    \r\n            </div> \r\n        </div>  \r\n        </div>\r\n    </Fragment>\r\n);\r\n  \r\n}\r\n\r\n// const useStateWithLocalStorage = localStorageKey => {\r\n//   const [value, setValue] = React.useState(\r\n//     localStorage.getItem(localStorageKey) || ''\r\n//   );\r\n \r\n//   React.useEffect(() => {\r\n//     localStorage.setItem(localStorageKey, value);\r\n//   }, [value]);\r\n \r\n//   return [value, setValue];\r\n// };\r\n\r\nconst useFormInput = initialValue => {\r\n  const [value, setValue] = useState(initialValue);\r\n \r\n  const handleChange = e => {\r\n    setValue(e.target.value);\r\n  }\r\n\r\n  return {\r\n    value,\r\n    onChange: handleChange\r\n  }\r\n}\r\n\r\nexport default LoginPage;","import React, { useState,useEffect } from \"react\";\r\nimport { getToken,getUrl } from \"../../../../Utils/Common\";\r\nimport Axios from 'axios';\r\n// import { instance } from \"../../../ApiUrl/endpointName.instatnce\";\r\n\r\n//To make the calculation from bytes to GB.\r\nfunction bytesToSize(bytes, seperator = \"\") {\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB']\r\n  if (bytes === 0) return 'n/a'\r\n  const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)), 10)\r\n  if (i === 0) return `${bytes}${seperator}${sizes[i]}`\r\n  return `${(bytes / (1024 ** i)).toFixed(1)}${seperator}${sizes[i]}`\r\n}\r\n\r\nconst ProgressBar = () => {\r\n  const [data, getData] = useState([]);\r\n  const [ loading, setLoading] = useState(true);\r\n  \r\n  //API call\r\n  useEffect(() => {\r\n    Axios.get(getUrl()+'alfresco/s/aws-reposize',\r\n    {headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n    }\r\n    })\r\n    .then((response) =>{\r\n    getData(response.data)\r\n    setLoading(false) \r\n  }).catch((error) => {\r\n    console.error(error)\r\n  });\r\n  }, []);\r\n\r\n  //Storing the storage in GB.\r\n  const freeSpace = bytesToSize(data.storeFreeSpace, \" \")\r\n  const usedSpace = bytesToSize(data.storageSpaceConsumed, \" \")\r\n\r\n  //Displaying the storage data.\r\n  return (\r\n    <div>\r\n      \r\n      { loading ? <h5> Free Space: {\"Calculating..\"} </h5>\r\n      : <h5> Free Space: { freeSpace }</h5> }\r\n      \r\n      { loading ? <h5> Used Space: {\"Calculating..\"} </h5> : \r\n      <h5> Used Space: { usedSpace } </h5> }\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;","import React, { useState} from 'react';\r\nimport { useHistory,Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport ProgressBar from \"../../Navigation/NavigationItems/ProgressBar/ProgressBar\";\r\nimport { faHome,\r\n      faFileAlt, \r\n      faFolderOpen, \r\n      faShareAlt,\r\n      faHeadset, \r\n      faKey, \r\n      faSignOutAlt, \r\n      faTrash} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport  './NavigationItems.scss';\r\nimport axios from 'axios';\r\nimport { getToken,getUser,getUrl } from '../../../Utils/Common';\r\n\r\nfunction NavigationItems() {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const user = getUser();\r\n\r\n  const handleLogout = () => {  // handle click event of logout button  \r\n      axios.delete(getUrl()+`alfresco/api/-default-/public/authentication/versions/1/tickets/-me-`,\r\n      {headers:{\r\n        Authorization: `Basic ${btoa(getToken())}`}\r\n      }).then(response => {\r\n        console.log(response)\r\n        setLoading(false);\r\n        history.push('/');\r\n      }).catch(error => {\r\n          if (error.response.status === 401) setError(error.response.data.message);\r\n          else setError(\"Your authentication details have not been recognized or EisenVault may not be available at this time.\");        \r\n      }, [])\r\n   }\r\n\r\n  return (\r\n    <div>\r\n    <section className=\"SideNav\">\r\n      \r\n      <div id=\"sidebar\">\r\n        <ul className=\"sidemenu\">\r\n\r\n          <div id=\"dashboard\"> \r\n            <Link to=\"/dashboard\">\r\n              <li> <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faHome}/>\r\n              <p>DASHBOARD</p>\r\n              </li></Link> \r\n            \r\n            </div>\r\n\r\n          <div id=\"middle_bar\">\r\n            <Link to=\"/documentsList\">\r\n              <li> <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faFileAlt}/>\r\n              <p> &nbsp;DEPARTMENTS</p>\r\n              </li></Link>\r\n\r\n            <Link to=\"/myUploads\">\r\n              <li> <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faFolderOpen}/>\r\n              <p>MY UPLOADS</p>\r\n              </li></Link>\r\n\r\n              <Link to=\"/manageShares\">\r\n              <li> <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faShareAlt}/>\r\n              <p>&nbsp;MANAGE SHARES</p>\r\n              </li></Link>\r\n          </div>\r\n\r\n          <div id=\"lower_bar\">\r\n              <li><a target=\"_blank\" rel=\"noopener noreferrer\"\r\n              href=\"https://support.eisenvault.com/portal/home\">\r\n              <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faHeadset}/>\r\n              <p>SUPPORT</p>\r\n              </a></li>\r\n\r\n              <li><a target=\"_blank\" rel=\"noopener noreferrer\"\r\n              href={getUrl()}> \r\n              <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faFileAlt}/>\r\n              <p>&nbsp;FULL VERSION</p>\r\n              </a>\r\n              </li>\r\n\r\n            </div>\r\n\r\n            <div id=\"trash\">\r\n            <Link to=\"/trashDisplay\">\r\n                <li> <FontAwesomeIcon \r\n                className=\"Icon\" \r\n                  icon={faTrash}/>\r\n                  <p>TRASH</p>\r\n                  </li></Link>\r\n\r\n              <Link to=\"/changePassword\">\r\n                <li> <FontAwesomeIcon \r\n                className=\"Icon\" \r\n                icon={faKey}/>\r\n                <p>CHANGE PASSWORD</p>\r\n                </li></Link>\r\n\r\n                <li>\r\n                <FontAwesomeIcon \r\n                className=\"Icon\" \r\n                icon={faSignOutAlt}/>\r\n                <input type=\"button\" className=\"signOut\" \r\n                onClick={handleLogout} value=\"LOGOUT\" />\r\n                </li>\r\n\r\n                {user==='admin' && <ProgressBar />}\r\n \r\n            </div>\r\n\r\n        </ul>\r\n      \r\n      </div>\r\n    </section>  </div> \r\n  );\r\n}\r\n\r\nexport default NavigationItems;","import React, { useState} from 'react';\r\nimport { useHistory,Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport ProgressBar from \"../../Navigation/NavigationItems/ProgressBar/ProgressBar\";\r\nimport { faHome,\r\n      faFileAlt, \r\n      faFolderOpen, \r\n      faShareAlt,\r\n      faHeadset, \r\n      faKey, \r\n      faSignOutAlt, \r\n      faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Axios from 'axios';\r\nimport \"../MobileMenu.scss\"\r\nimport \"../MobileSidebar/Sidedrawer.scss\"\r\nimport Auxiliary from '../../../hoc/Auxiliary';\r\nimport { getUser ,getToken,getUrl} from \"../../../Utils/Common\";\r\n\r\nconst SideDrawer=(props)=>{\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // handle click event of logout button\r\n   const handleLogout = () => {\r\n    \r\n      Axios.delete(getUrl()+`alfresco/api/-default-/public/authentication/versions/1/tickets/-me-`,\r\n      {headers:{\r\n        Authorization: `Basic ${btoa(getToken())}`}\r\n      }).then(response => {\r\n        setLoading(false);\r\n        history.push('/');\r\n      }).catch(error => {\r\n          if (error.response.status === 401) setError(error.response.data.message);\r\n          else setError(\"Your authentication details have not been recognized or EisenVault may not be available at this time.\");        \r\n      }, [])\r\n   }\r\n   \r\n  let drawerclasses='Side-drawer';\r\n  if(props.show){\r\n    drawerclasses='Side-drawer open';\r\n  }\r\n  \r\n  const user = getUser();\r\n   \r\n    return(\r\n        <Auxiliary>\r\n            \r\n          <nav role=\"navigation\" >\r\n        \r\n           <ul className={drawerclasses} \r\n           onClick={props.click}>\r\n            <div id=\"dashboard\" > \r\n            <Link to=\"/dashboard\">\r\n              <li> <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faHome}/>\r\n              <p >DASHBOARD</p>\r\n              </li></Link> \r\n            \r\n            </div>\r\n\r\n          <div id=\"middle_bar\">\r\n            <Link to=\"/documentsList\">\r\n              <li> <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faFileAlt}/>\r\n              <p> &nbsp;DEPARTMENTS</p>\r\n              </li></Link>\r\n\r\n            <Link to=\"/myUploads\">\r\n              <li> <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faFolderOpen}/>\r\n              <p>MY UPLOADS</p>\r\n              </li></Link>\r\n\r\n              <Link to=\"/manageShares\">\r\n              <li> <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faShareAlt}/>\r\n              <p>&nbsp;MANAGE SHARES</p>\r\n              </li></Link>\r\n          </div>\r\n\r\n          <div id=\"lower_bar\">\r\n              <li><a target=\"_blank\" rel=\"noopener noreferrer\"\r\n              href=\"https://support.eisenvault.com/portal/home\">\r\n              <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faHeadset}/>\r\n              <p>SUPPORT</p>\r\n              </a></li>\r\n\r\n              <li><a target=\"_blank\" rel=\"noopener noreferrer\"\r\n              href=\"https://systest.eisenvault.net/share/page/\"> \r\n              <FontAwesomeIcon \r\n              className=\"Icon\" \r\n              icon={faFileAlt}/>\r\n              <p>&nbsp;FULL VERSION</p>\r\n              </a>\r\n              </li>\r\n\r\n            </div>\r\n\r\n            <div id=\"trash\">\r\n            <Link to=\"/trashDisplay\">\r\n                <li> <FontAwesomeIcon \r\n                className=\"Icon\" \r\n                  icon={faTrash}/>\r\n                  <p>TRASH</p>\r\n                  </li></Link>\r\n\r\n              <Link to=\"/changePassword\">\r\n                <li> <FontAwesomeIcon \r\n                className=\"Icon\" \r\n                icon={faKey}/>\r\n                <p>CHANGE PASSWORD</p>\r\n                </li></Link>\r\n\r\n                <li>\r\n                <FontAwesomeIcon \r\n                className=\"Icon\" \r\n                icon={faSignOutAlt}/>\r\n                <input type=\"button\" className=\"signOut\" \r\n                 onClick={handleLogout}\r\n                 value=\"LOGOUT\" />\r\n                </li>\r\n\r\n                {user==='admin' && <ProgressBar />}\r\n \r\n            </div>\r\n          </ul>\r\n        </nav>\r\n      </Auxiliary>\r\n\r\n        );\r\n    \r\n}\r\nexport default SideDrawer;","import React from 'react';\r\nimport './MobileMenu.scss';\r\n\r\nexport const DrawerToggleButton = props => (\r\n  <button className=\"toggle-button\" onClick={props.drawertoggleHandler}>\r\n    <div className=\"toggle-button__line\" />\r\n    <div className=\"toggle-button__line\" />\r\n    <div className=\"toggle-button__line\" />\r\n  </button>\r\n)\r\n","import React from 'react';\r\nimport \"./styleFooter.scss\";\r\n\r\n//Function to display footer\r\nconst Footer = () => (\r\n    <footer className=\"base-footer\">\r\n\r\n        <p className=\"footerSection\">Copyright  2020 \r\n        <a href=\"https://eisenvault.com/\">\r\n          Argali Knowledge Services Pvt. Ltd., New Delhi, India</a></p>\r\n      </footer>\r\n);\r\n\r\nexport default Footer;","import React from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\n\r\n  //popup test\r\n  const NestedToolTipuploads = (props) => (\r\n    <Popup\r\n      trigger= {<label id=\"label\">Action </label>}\r\n      position=\"bottom left\"\r\n      closeOnDocumentClick>{close=>(\r\n        <div><div>\r\n        <Popup\r\n          trigger={<option id=\"option\"> Delete All </option>} modal\r\n          position=\"bottom left\">\r\n            <span> <h2 className=\"Dh2\">Delete Documents</h2>\r\n            <p className=\"content Dh3\">\r\n              Are you sure you want to delete All files?\r\n              <br /> NOTE:The deleted file will be stored in trash for 30 days.</p>\r\n            <button\r\n              className=\"btn-cancel btn-c\" \r\n              onClick={()=>{close()}}>CANCEL</button>\r\n            <button className=\"btn-continue btn-d\" onClick={async()=>{await props.del(close)}}>DELETE</button></span>\r\n            </Popup></div>\r\n        <div>\r\n         <Popup\r\n          trigger={<option id=\"option\">Delete Selected </option>} modal\r\n          position=\"top right\">\r\n          <span> <h2 className=\"Dh2\">Delete Documents</h2>\r\n            <p className=\"content Dh3\">\r\n              Are you sure you want to Delete selected files?\r\n               <br /> NOTE:The deleted file will be stored in trash for 30 days.</p>\r\n            <button\r\n              className=\"btn-cancel btn-c\" \r\n              onClick={()=>{close()}}>CANCEL</button>\r\n            <button className=\"btn-continue btn-d\" onClick={async()=>{await props.delsel(close)}}>DELETE</button> </span>\r\n        </Popup></div>\r\n           </div>)}\r\n           </Popup>\r\n      );\r\n\r\n      export default NestedToolTipuploads;","import React,{ useState, useEffect} from \"react\";\r\nimport {useHistory } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport OutsideClickHandler from 'react-outside-click-handler';\r\nimport \"./styleSearchBar.scss\";\r\nimport { getToken,getUrl } from '../../Utils/Common';\r\n\r\n const Search = () => {\r\n  let history = useHistory();\r\n  const [data ,setData] = useState([]);\r\n    const [filtered ,setFilterd] = useState([]);\r\n    const [result , setResult] = useState(\"\");\r\n    const [show , setShow] = useState(false);\r\n\r\n            const fetchData =  ()=> {\r\n                    try{\r\n                        Axios.get(getUrl()+`alfresco/s/slingshot/live-search-docs?t=${result}&limit=5`,\r\n                         \r\n                             {headers:{\r\n                                Authorization: `Basic ${btoa(getToken())}`\r\n                                }\r\n                              }).then((response) => {\r\n                                     setData(response.data.items);\r\n                                      setFilterd(response.data.items);\r\n                                      setShow(true)\r\n                                   });\r\n                    }catch(err){\r\n                      setResult(\"\")\r\n                      setData([])\r\n                       setShow(false)\r\n                        throw new Error(err);\r\n                    }\r\n                     };\r\n                \r\n      const  handleOutsideClick = (e) => {\r\n        setShow(false)\r\n      }\r\n      const onChange =(e)=> {\r\n            setResult(e.target.value);\r\n            if (result.length !== 0)\r\n            {\r\n              fetchData(result);\r\n            }\r\n            else if (result.length === 0){\r\n              setData([])\r\n              setShow(false)\r\n            }\r\n        }\r\n      \r\n      const onEnter = (event) => {\r\n        if (event.key === \"Enter\")\r\n        history.push(`/search/${result}`)\r\n      }\r\n\r\n        function handleDocument(id , name){\r\n           history.push(`/document-details/${id}/${name}`)\r\n        }\r\n\r\n    return (\r\n        <div className=\"searchBox-container\">\r\n        <input \r\n            className=\"searchBox\"\r\n            type=\"text\"\r\n            placeholder=\"Type here to search ...\"\r\n            value={result}\r\n            onChange={onChange}\r\n            onKeyUp={onEnter}\r\n        />   \r\n      \r\n        {show ? <OutsideClickHandler onOutsideClick={handleOutsideClick}><div className=\"menu-container\">\r\n        {data.map((r,i)=> ( \r\n                \r\n                <ul key={i}>\r\n                <li onClick={() => handleDocument(\r\n                      r.nodeRef.substring(24),\r\n                      r.name)}\r\n                      className=\"search-item\">{r.name}</li>\r\n                </ul>\r\n              )\r\n            )\r\n        }\r\n        </div></OutsideClickHandler>: null}\r\n    </div>\r\n    )  \r\n\r\n }\r\n  \r\nexport default Search;\r\n","import React, {useState , useEffect} from 'react';\r\nimport Avatar from \"react-avatar\";\r\nimport { getUser } from \"../../Utils/Common\";\r\n\r\n/******************************************\r\n* File: Avtar.js\r\n* Desc: Create Avtar for the user with the initials of username.\r\n* @returns: Avtar Icon.\r\n* @author: Shayane Basu, 06 October 2020\r\n********************************************/\r\n\r\nconst ProfilePic = () => {\r\n    const [profileInitials, setProfileInitials] = useState(null);\r\n\r\n    //get the username from localStorage and take the first character of the name.\r\n    useEffect(() => {\r\n        setProfileInitials (getUser() ? getUser().charAt(0) : \"\");\r\n    }, [])\r\n\r\n    return( \r\n        <Avatar className='avtarStyle'\r\n        color='#E07050' size='3rem'\r\n        round \r\n        maxInitials= {2}\r\n        name= { profileInitials } \r\n        title= { getUser() }\r\n        /> \r\n    )\r\n}\r\n\r\nexport default ProfilePic;","import React, { useState } from \"react\";\r\nimport \"./stylePagination.scss\";\r\n\r\nconst Pagination = (props) => {\r\n  return (\r\n    <nav>\r\n        <ul className='pagination'>\r\n        <button onClick={props.handlePrev} id=\"myprevBtn\">\r\n          Prev\r\n        </button>\r\n        <button onClick={props.handleNext} id=\"myBtn\">\r\n          Next\r\n        </button>\r\n        </ul>\r\n    </nav>\r\n  )\r\n} \r\n\r\nexport default Pagination;","import React from 'react';\r\nimport { usePromiseTracker } from 'react-promise-tracker';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst LoadingIndicator = (props) => {\r\n    const { promiseInProgress } = usePromiseTracker();\r\n    return (\r\n        \r\n        promiseInProgress &&\r\n        <div\r\n            style={{\r\n                width: \"120%\",\r\n                height: \"120\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\"\r\n            }}\r\n    >\r\n      <Loader type=\"ThreeDots\" color=\"#E07050\" height=\"100\" width=\"100\"/>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default LoadingIndicator;","import React, {useEffect,useState,Fragment} from 'react'\r\nimport NestedToolTipuploads from '../UI/uploadPopups';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFile,faFolder,faTimesCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport './MyUploads.scss';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Search from \"../SearchBar/SearchBar\";\r\nimport Axios from 'axios';\r\nimport { getToken,getUser, getUrl} from '../../Utils/Common';\r\nimport ProfilePic from \"../Avtar/Avtar\";\r\nimport Pagination from '../Pagination/Pagination';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport LoadingIndicator from '../../Utils/LoadingIndicator';\r\nimport alertify from 'alertifyjs';\r\n\r\n\r\n\r\n  function MyUploads(props){\r\n    let history = useHistory();\r\n\r\n    const [lastButtonClicked, setLastButtonClicked] = useState(\"\");\r\n    const[FileState,setFileState]=useState([]);\r\n    const [hasMoreItems , setMoreItems] = useState('');\r\n    const [skipCount , setSkipCount ] = useState('');\r\n    const [totalitems,settotalitems] =useState('');\r\n\r\n    useEffect(()=>{\r\n      getData();\r\n     },[]);\r\n   \r\n    //api call \r\n      const getData=()=>{\r\n        trackPromise(\r\n        Axios.post(getUrl()+`alfresco/api/-default-/public/search/versions/1/search`,\r\n        {\r\n          \"query\": \r\n            {\"query\": `cm:creator:${getUser()}`},\r\n            \"paging\": {\r\n              \"maxItems\": \"10\",\r\n              \"skipCount\": \"0\"\r\n            }\r\n        },\r\n        {headers:{\r\n          Authorization: `Basic ${btoa(getToken())}`\r\n          }}).then((response)=>{\r\n              let FileData=response.data;\r\n              setMoreItems(response.data.list.pagination.hasMoreItems)\r\n              setSkipCount(response.data.list.pagination.skipCount + 10)\r\n              settotalitems(response.data.list.pagination.totalItems)\r\n              setFileState(FileData.list.entries.map(d=>{\r\n                return {\r\n                  select:false,\r\n                  id:d.entry.id,\r\n                  name:d.entry.name,\r\n                  uploadedOn:d.entry.createdAt.split('T')[0],\r\n                  type:d.entry.isFile\r\n                }\r\n              })) \r\n              }).catch(err=>alert(err))\r\n        )\r\n    };\r\n\r\n\r\n  //arrow function for getting file nodeid and putting it dynamically in api to delete single/multiple files\r\n  const deleteFileByIds=(close)=>{\r\n    FileState.forEach( d=>{\r\n      if(d.select){\r\n       Axios.delete(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${d.id}`, \r\n      {headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n       }\r\n     }).then((data)=>{\r\n          close();\r\n          alertify.alert('Document Deleted Successfully').setting({\r\n            'message': 'Document Deleted Successfully',\r\n            'onok': () => {alertify.alert().destroy();} \r\n          });\r\n          getData();\r\n           }).catch(err=>alert(err));\r\n       };\r\n      })}\r\n      \r\n       const DefaultDelete=(close)=>{ //Delete all files\r\n        FileState.forEach( d=>{\r\n          if(d.id){\r\n          Axios.delete(getUrl()+`/alfresco/api/-default-/public/alfresco/versions/1/nodes/${d.id}`, \r\n          {headers:{\r\n          Authorization: `Basic ${btoa(getToken())}`\r\n           }\r\n         }).then((data)=>{\r\n              close();\r\n              alertify.alert('Document Deleted Successfully').setting({\r\n                'message': 'Document Deleted Successfully',\r\n                'onok': () => {alertify.alert().destroy();} \r\n              });\r\n              getData();\r\n               }).catch(err=>alert(err));\r\n           };\r\n          })\r\n      }\r\n\r\n      const handleDelete=(id)=>{  //method to delete document without selecting by checkbox\r\n        Axios.delete(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}`, \r\n      {headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n       }\r\n     }).then((data)=>{\r\n          alertify.confirm().destroy();\r\n          alertify.alert('Document Deleted Successfully').setting({\r\n            'message': 'Document Deleted Successfully',\r\n            'onok': () => {alertify.alert().destroy();} \r\n          }); \r\n          getData();\r\n           }).catch(err=>alert(err));\r\n      }\r\n\r\n    function next(){ //pagination next button\r\n        var localSkipCount = skipCount;\r\n        if (lastButtonClicked === \"previous\")\r\n         {\r\n          if(totalitems>20){\r\n           if(localSkipCount===0)\r\n             {\r\n               localSkipCount=localSkipCount + 10 \r\n             }else{\r\n              localSkipCount = localSkipCount + 20;}\r\n          }\r\n         else{\r\n          localSkipCount=localSkipCount + 0 ;\r\n        }}\r\n        document.getElementById(\"myprevBtn\").disabled = false;\r\n        Axios.post(getUrl()+`alfresco/api/-default-/public/search/versions/1/search`,\r\n        {\r\n          \"query\": \r\n            {\"query\": `cm:creator:${getUser()}`},\r\n            \"paging\": {\r\n              \"maxItems\": \"10\",\r\n              \"skipCount\": `${localSkipCount}`\r\n            }\r\n        },\r\n        {headers:{\r\n           Authorization: `Basic ${btoa(getToken())}`\r\n         }}).then((response) => {\r\n          setFileState(response.data.list.entries.map(d=>{\r\n            return {\r\n              select:false,\r\n              id:d.entry.id,\r\n              name:d.entry.name,\r\n              uploadedOn:d.entry.createdAt.split('T')[0],\r\n              type:d.entry.isFile\r\n            }\r\n          }))\r\n          setMoreItems(response.data.list.pagination.hasMoreItems)\r\n          if (response.data.list.pagination.hasMoreItems){\r\n            setSkipCount(response.data.list.pagination.skipCount + 10)\r\n            document.getElementById(\"myBtn\").disabled = false;\r\n          }\r\n          else{\r\n            document.getElementById(\"myBtn\").disabled = true;\r\n          }\r\n            setLastButtonClicked(\"next\");\r\n          });\r\n          }\r\n      \r\n  function previous(){ //pagination previous button\r\n        var localSkipCount = skipCount;\r\n      if (lastButtonClicked === \"next\") {\r\n        if(localSkipCount<=20){\r\n           localSkipCount = localSkipCount - 10;\r\n        }\r\n        else{\r\n       localSkipCount = localSkipCount - 20;}\r\n    }\r\n    document.getElementById(\"myBtn\").disabled = false;\r\n      Axios.post(getUrl()+`alfresco/api/-default-/public/search/versions/1/search`,\r\n        {\r\n          \"query\": \r\n            {\"query\": `cm:creator:${getUser()}`},\r\n            \"paging\": {\r\n              \"maxItems\": \"10\",\r\n              \"skipCount\": `${localSkipCount}`\r\n            }\r\n        },\r\n        {headers:{\r\n           Authorization: `Basic ${btoa(getToken())}`\r\n         }}).then((response) => {\r\n          setFileState(response.data.list.entries.map(d=>{\r\n            return {\r\n              select:false,\r\n              id:d.entry.id,\r\n              name:d.entry.name,\r\n              uploadedOn:d.entry.createdAt.split('T')[0],\r\n              type:d.entry.isFile\r\n            }\r\n          }))\r\n          setMoreItems(response.data.list.pagination.hasMoreItems)\r\n          if (response.data.list.pagination.skipCount > 0){\r\n            setSkipCount(response.data.list.pagination.skipCount - 10)\r\n            document.getElementById(\"myprevBtn\").disabled = false;\r\n          }else{\r\n            document.getElementById(\"myprevBtn\").disabled = true;\r\n          }\r\n          setLastButtonClicked(\"previous\")\r\n        }); \r\n      }\r\n\r\n       function handleDocument(file , id, title){\r\n          file ? history.push(`/document-details/${id}/${title}`)\r\n          : history.push(`/document/${id}`)\r\n        }\r\n    \r\n    return( \r\n      <Fragment>\r\n         <div id=\"second_section\">\r\n\r\n         <div className=\"title\">\r\n            <ProfilePic />\r\n            <h2>My Uploads</h2>\r\n          </div>\r\n\r\n          <div className=\"search-profile\">\r\n            <Search />\r\n          </div>\r\n\r\n              <div className=\"filesUpload\">\r\n                <table id=\"doc_list\">\r\n                  <tbody>\r\n                  <tr id=\"icons\">\r\n                    <th id=\"icon01\">\r\n                      <input type=\"checkbox\" onChange={(e)=>{\r\n                        let checked=e.target.checked;\r\n                        setFileState(FileState.map((d)=>{\r\n                          d.select=checked;\r\n                          return d;\r\n                        }));\r\n                      }}/>\r\n                    </th>\r\n                    <th id=\"item-name\">Item Name</th>\r\n                    <th id=\"shared\">Uploaded On</th>\r\n                    <th id=\"action\">\r\n                      <NestedToolTipuploads del={DefaultDelete} delsel={deleteFileByIds}/>\r\n                    </th>\r\n                </tr> \r\n                  \r\n                  { FileState.map((d) => (\r\n                     <tr  key={d.id}  id=\"first_details\">\r\n                    <td className=\"file_icon1\">\r\n                      <input onChange={(event)=>{\r\n                          let checked=event.target.checked;\r\n           \r\n                        setFileState(FileState.map((data)=>{\r\n                          if(d.id===data.id){\r\n                            data.select=checked;\r\n                          }return data;\r\n                         }));\r\n                      }} type=\"checkbox\" checked={d.select} />\r\n                      </td>\r\n                      \r\n                    <td className=\"file_name-u\"\r\n                    onClick={() => handleDocument(\r\n                      d.type,\r\n                      d.id,\r\n                      d.name) }>\r\n                    <FontAwesomeIcon className=\"pdf-file fas fa-file-pdf\" \r\n                     icon={d.type ? faFile : faFolder}/> \r\n                    {d.name}</td>\r\n                    <td className=\"details-u\">{d.uploadedOn}</td>\r\n                    <td className=\"delete-u\">\r\n                    <FontAwesomeIcon className=\"fas fa-times-circle\" icon={faTimesCircle} \r\n                     onClick={()=>{ alertify.confirm().setting({transition:'pulse',\r\n                     buttonFocus : \"ok\",\r\n                     'message' : 'DO YOU WANT TO DELETE THIS FILE '+ d.name,'onok': () => {handleDelete(d.id)} ,\r\n                     'oncancel': () => {alertify.confirm().destroy();}}).show()\r\n                        }} \r\n                      />\r\n                </td>\r\n              </tr>\r\n                ))}\r\n             </tbody>  \r\n            </table>\r\n            <LoadingIndicator/>   \r\n          </div>\r\n        </div>\r\n\r\n      <div className=\"col-md-6\">\r\n        <Pagination\r\n          handlePrev={previous}\r\n          handleNext={next}\r\n              />  \r\n      </div>\r\n    </Fragment>\r\n\r\n          )\r\n          }\r\nexport default MyUploads;\r\n","import React,{Fragment, useEffect, useState} from 'react';\r\nimport './styleDashboard.scss';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { getToken, getUser, getUrl } from \"../../Utils/Common\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFile, faEye } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Search from \"../SearchBar/SearchBar\";\r\nimport ProfilePic from \"../Avtar/Avtar\";\r\nimport Pagination from '../Pagination/Pagination';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport LoadingIndicator from '../../Utils/LoadingIndicator';\r\nimport axios from 'axios';\r\n\r\n/******************************************\r\n* File: Dashboard.js\r\n* Desc: Display user's activities.\r\n* @param: (1) node id of the document\r\n* @param: (2) title(name) of the document\r\n* @returns: List of user activities.\r\n* @author: Shayane Basu, 06 October 2020\r\n********************************************/\r\n\r\nconst Dashboard = () => {\r\n  let personId = getUser();\r\n  let history = useHistory();\r\n  let params = useParams();\r\n  const id = params.id;\r\n  \r\n  const [ documents , setDocuments ] = useState([]);\r\n  const [hasMoreItems , setMoreItems] = useState('');\r\n  const [lastButtonClicked, setLastButtonClicked] = useState(\"\");\r\n  const [skipCount , setSkipCount ] = useState('');\r\n  const [totalitems,settotalitems] =useState('');\r\n\r\n  //API call to get the user's activities list.\r\n  useEffect(() => {\r\n    trackPromise(\r\n    axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/people/${personId}/activities?skipCount=0&who=me&maxItems=10`,\r\n    {headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n    }}).then((response) => {\r\n      setDocuments(response.data.list.entries)\r\n      setMoreItems(response.data.list.pagination.hasMoreItems)\r\n      setSkipCount(response.data.list.pagination.skipCount + 10)\r\n      settotalitems(response.data.list.pagination.totalItems);\r\n    })\r\n    )\r\n  }, []);\r\n\r\n  function next(){ //pagination next button\r\n    var localSkipCount = skipCount;\r\n    if (lastButtonClicked === \"previous\")\r\n     {\r\n      if(totalitems>20){\r\n       if(localSkipCount===0)\r\n         {\r\n          localSkipCount=localSkipCount + 10 \r\n         }else{\r\n          localSkipCount = localSkipCount + 20;}\r\n      }\r\n      else{\r\n      localSkipCount=localSkipCount + 10 ;\r\n    }}\r\n    document.getElementById(\"myprevBtn\").disabled = false;\r\n    axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/people/${personId}/activities?skipCount=${localSkipCount}&who=me&maxItems=10`,\r\n     {headers:{\r\n       Authorization: `Basic ${btoa(getToken())}`\r\n     }}).then((response) => {\r\n       setDocuments(response.data.list.entries)\r\n       setMoreItems(response.data.list.pagination.hasMoreItems)\r\n     if (response.data.list.pagination.hasMoreItems){\r\n      setSkipCount(response.data.list.pagination.skipCount + 10)\r\n      document.getElementById(\"myBtn\").disabled = false;\r\n     }\r\n     else{\r\n      document.getElementById(\"myBtn\").disabled = true;\r\n     }\r\n       setLastButtonClicked(\"next\");\r\n     });\r\n   }\r\n\r\n  function previous(){ //pagination previous button\r\n    var localSkipCount = skipCount;\r\n    if (lastButtonClicked === \"next\") {\r\n      if(localSkipCount===10){\r\n        localSkipCount = localSkipCount - 10;\r\n      }\r\n      else{\r\n     localSkipCount = localSkipCount - 20;}\r\n    }\r\n    document.getElementById(\"myBtn\").disabled = false;\r\n    axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/people/${personId}/activities?skipCount=${localSkipCount}&who=me&maxItems=10`,\r\n      {headers:{\r\n        Authorization: `Basic ${btoa(getToken())}`\r\n      }}).then((response) => {\r\n        setDocuments(response.data.list.entries)\r\n        setMoreItems(response.data.list.pagination.hasMoreItems)\r\n        if (response.data.list.pagination.skipCount > 0)\r\n        {\r\n          setSkipCount(response.data.list.pagination.skipCount - 10)\r\n          document.getElementById(\"myprevBtn\").disabled = false;\r\n        }\r\n        else{\r\n          document.getElementById(\"myprevBtn\").disabled = true;\r\n        }\r\n        setLastButtonClicked(\"previous\")\r\n      });\r\n   }\r\n\r\n  /********  \r\n  This function will create the url for each document like \r\n  'https://systest.eisenvault.net/document-details/123456789/example.pdf'\r\n  ********/\r\n  function handleDocument(id,title){\r\n    history.push(`/document-details/${id}/${title}`)\r\n  }\r\n\r\n  /* In case the activity is one of the value from this array,\r\n   the preview icon will not be displayed in front of that activity */\r\n\r\n  const noPreviewIcon = [\"file-deleted\", \"user-role-changed\", \r\n                          \"folders-deleted\", \"folder-added\"]\r\n\r\n  return (\r\n  <Fragment>\r\n\r\n      <div id=\"second_section\">\r\n\r\n      <div className=\"title\">\r\n\r\n        <h2>Dashboard</h2>\r\n        <ProfilePic />\r\n        </div>\r\n\r\n        <div className=\"search-profile\">\r\n        <Search />\r\n      </div>\r\n      \r\n      <div className=\"filesDetail\">\r\n        <h3>My Recent Activities</h3>\r\n\r\n        <table className='documentsList'>\r\n            {documents.map(document => (              \r\n            <tbody key={document.entry.id}>\r\n                <tr>\r\n\r\n                  {/* To display the filename with department name. */}\r\n                  <td className='fileName'>                             \r\n                    <FontAwesomeIcon icon={faFile} />\r\n                        <h4>\r\n                          {document.entry.activitySummary.title} \r\n                        </h4> \r\n                        <p className=\"text\">{ \" \" }in { \" \" }</p> \r\n                          <h4>{document.entry.siteId}</h4> \r\n                          </td>\r\n\r\n                          {/* To display the activity date. */}\r\n                          <td className='fileDetails'>\r\n                            {document.entry.postedAt.split('T')[0]} </td>\r\n\r\n                          {/* To display the activity. */}\r\n                          <td className='fileActivity'>\r\n                            {document.entry.activityType.split('.')[3]}</td>\r\n\r\n                          {/* The eye icon to view the file. */}\r\n                            {noPreviewIcon.includes(document.entry.activityType.split('.')[3])?\r\n                            \"\":<td className='view'\r\n                            onClick={() => handleDocument(\r\n                              document.entry.activitySummary.objectId,\r\n                              document.entry.activitySummary.title ) }>\r\n                                <FontAwesomeIcon icon={faEye} /></td>}\r\n                      </tr>\r\n                  </tbody>\r\n            ))}\r\n        </table>\r\n        <LoadingIndicator/> \r\n      </div>\r\n  </div>\r\n  \r\n    <div className=\"col-md-6\">\r\n     <Pagination\r\n     handlePrev={previous}\r\n     handleNext={next}\r\n        />  \r\n    </div>\r\n\r\n  </Fragment>\r\n  )\r\n};\r\n\r\nexport default Dashboard;","import React,{Fragment , useEffect , useState} from 'react';\r\nimport {getToken,getUser,getUrl} from \"../../Utils/Common\";\r\nimport ProfilePic from \"../Avtar/Avtar\";\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport LoadingIndicator from '../../Utils/LoadingIndicator';\r\nimport { useHistory} from 'react-router-dom';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faGlobeAsia } from \"@fortawesome/free-solid-svg-icons\";\r\nimport './DocumentList.scss';\r\nimport alertify from 'alertifyjs';\r\nimport Search from \"../SearchBar/SearchBar\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport { DeleteDepartment} from \"../Modal/DeleteModalSumm/DeleteSumm\";\r\nimport Pagination from '../Pagination/Pagination';\r\nimport Axios from 'axios';\r\n\r\nconst DocumentsList = () => {\r\n  const user = getUser();\r\n  let history = useHistory();\r\n  let url;\r\n  const [deletemodalIsOpen, deletesetmodalIsOpen] = useState(false);\r\n  const [lastButtonClicked, setLastButtonClicked] = useState(\"\");\r\n  const [ paginationDefualtDept, setPaginationDefaultDept ] = useState([]);\r\n  const [ departments , setDepartments ] = useState([]);\r\n  const [ documents , setDocuments ] = useState([]);\r\n  const [hasMoreItems , setMoreItems] = useState('');\r\n  const [totalitems,settotalitems]=useState('');\r\n  const [skipCount , setSkipCount ] = useState(0);\r\n  \r\n  //Condition to fetch departments\r\n    if(user === \"admin\")\r\n    {\r\n     url=`/sites?maxItems=10`\r\n    }\r\n    else{\r\n      url = \"/sites?maxItems=100\"\r\n    }\r\n  \r\n  useEffect(()=>{\r\n   getDepartments()\r\n     },[url]);\r\n  \r\n  const getDepartments=()=>{\r\n    trackPromise(\r\n    Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/${url}&skipCount=0`,\r\n    {\r\n    headers:{\r\n        Authorization: `Basic ${btoa(getToken())}`\r\n        }}).then((response) => {\r\n      setDepartments(response.data.list.entries)\r\n      setPaginationDefaultDept(response.data.list.pagination)\r\n      settotalitems(response.data.list.pagination.totalItems)\r\n      setMoreItems(response.data.list.pagination.hasMoreItems) \r\n      setSkipCount(response.data.list.pagination.skipCount + 10)    \r\n    })\r\n    )\r\n  }\r\n\r\nfunction handleDocumentLibrary(key){\r\n  Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${key}/children`,\r\n  {\r\n  headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n      }\r\n    }\r\n  ).then((response) => {\r\n        console.log(response.data)\r\n        setDocuments(response.data.list.entries)\r\n        response.data.list.entries.map(d => (\r\n          d.entry.name === 'documentLibrary' ?  \r\n          history.push(`/document/${d.entry.id}`)\r\n          : null\r\n        ) \r\n          )\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      })     \r\n}\r\n\r\nfunction handleDeleteDepartment(id){\r\n  Axios.delete(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/sites/${id}?permanent=false`,\r\n  {\r\n  headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n      } } \r\n  )\r\n  .then(response => {\r\n    alertify.confirm().destroy();\r\n    alertify.alert('Department Deleted Successfully').setting({\r\n      'message': 'Department Deleted Successfully',\r\n      'onok': () => {alertify.alert().destroy();} \r\n    });\r\n    getDepartments()\r\n    console.log(response)\r\n  }).catch(error => {\r\n    if (error.response.status===404){\r\n      alert(\"Department does not exist\");\r\n    }\r\n    console.log(error)\r\n});\r\n}\r\n \r\n\r\n  function next(){\r\n     var localSkipCount = skipCount;\r\n    if (lastButtonClicked === \"previous\")\r\n          {\r\n            if(totalitems>20){\r\n            if(localSkipCount===0)\r\n              {\r\n                localSkipCount=localSkipCount + 10 \r\n              }else{\r\n                localSkipCount = localSkipCount + 20;}\r\n            }\r\n           else{\r\n            localSkipCount=localSkipCount + 0 ;\r\n          }}\r\n        document.getElementById(\"myprevBtn\").disabled = false;\r\n        Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/${url}&skipCount=${localSkipCount}`,\r\n        {headers:{\r\n          Authorization: `Basic ${btoa(getToken())}`\r\n        }}).then((response) => {\r\n          setDepartments(response.data.list.entries)\r\n          setPaginationDefaultDept(response.data.list.pagination) \r\n          setMoreItems(response.data.list.pagination.hasMoreItems)\r\n          if (response.data.list.pagination.hasMoreItems){\r\n            setSkipCount(response.data.list.pagination.skipCount + 10)\r\n            document.getElementById(\"myBtn\").disabled = false;\r\n          }\r\n          else{\r\n            document.getElementById(\"myBtn\").disabled = true;\r\n          }\r\n          setLastButtonClicked(\"next\");\r\n        }); \r\n      }\r\n  \r\n    function previous(){\r\n      var localSkipCount = skipCount;\r\n      if (lastButtonClicked === \"next\") {\r\n        if(localSkipCount===10)\r\n        {\r\n          localSkipCount = localSkipCount - 10;\r\n        }\r\n        else{\r\n      localSkipCount = localSkipCount - 20;}\r\n    }\r\n      document.getElementById(\"myBtn\").disabled = false;\r\n      Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/${url}&skipCount=${localSkipCount}`,\r\n      {headers:{\r\n        Authorization: `Basic ${btoa(getToken())}`\r\n      }}).then((response) => {\r\n      setDepartments(response.data.list.entries)\r\n      setPaginationDefaultDept(response.data.list.pagination) \r\n          setMoreItems(response.data.list.pagination.hasMoreItems)\r\n          if (response.data.list.pagination.skipCount > 0){\r\n            setSkipCount(response.data.list.pagination.skipCount - 10)\r\n            document.getElementById(\"myprevBtn\").disabled = false;\r\n          }\r\n          else{\r\n            document.getElementById(\"myprevBtn\").disabled = true;\r\n          }\r\n          setLastButtonClicked(\"previous\")\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n      <Fragment>\r\n        <div id=\"second_section\">\r\n\r\n        <div className=\"title\">\r\n          <h2>My Departments</h2>\r\n          <ProfilePic className=\"profile_picture\"/>\r\n          </div>\r\n          \r\n          <div className=\"search-profile\">\r\n            <Search />\r\n            </div>\r\n          <div className='files'>\r\n              \r\n              <table id=\"doc_list\">\r\n              <tbody >\r\n              {departments.map(department => (\r\n                      department.entry.role ? \r\n                      <tr className='details' key={department.entry.id}>\r\n                      <td className='fileicon'>\r\n                      \r\n                        <FontAwesomeIcon icon={faGlobeAsia} className=\"fas\"/>\r\n                        {department.entry.title}</td>\r\n                        <td className='fileDetails' \r\n                        onClick={() => handleDocumentLibrary(department.entry.guid)}>\r\n                        Document Library\r\n                        {document.folders} </td>\r\n                        <td>\r\n                          { user === 'admin' && \r\n                          <Modal show={deletemodalIsOpen}>\r\n                              <DeleteDepartment \r\n                                clicked={() => deletesetmodalIsOpen(false)}>\r\n                              </DeleteDepartment>\r\n                              <DeleteDepartment  clicked={() => deletesetmodalIsOpen(false)}></DeleteDepartment>\r\n                            </Modal> &&\r\n                          <div>\r\n                        <FontAwesomeIcon icon={faTrashAlt} \r\n                            onClick={()=>{ alertify.confirm().setting({transition:'pulse',\r\n                                    buttonFocus : \"ok\",\r\n                                    'message' : 'DO YOU WANT TO DELETE THIS DEPARTMENT '+ department.entry.title,'onok': () => {handleDeleteDepartment(department.entry.id)} ,\r\n                                    'oncancel': () => {alertify.confirm().destroy();}}).show()\r\n                        }}\r\n                            className=\"icon-item delete\"/>\r\n                          </div>\r\n      \r\n                          }\r\n                          \r\n                        </td>\r\n                      </tr> : null\r\n                  \r\n              ))}\r\n              </tbody>\r\n              \r\n              </table> \r\n              <LoadingIndicator/>\r\n              <div className=\"col-md-6\">\r\n          <Pagination\r\n          handlePrev={previous}\r\n          handleNext={next}\r\n            />\r\n            </div>\r\n          </div>\r\n          </div>\r\n        \r\n      </Fragment>\r\n          )\r\n        }\r\n        const useFormInput = initialValue => {\r\n          const [value, setValue] = useState(initialValue);\r\n        \r\n          const handleChange = e => {\r\n            setValue(e.target.value);\r\n          }\r\n          return {\r\n            value,\r\n            onChange: handleChange\r\n          }\r\n        }\r\nexport default DocumentsList;\r\n\r\n","import React from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"./popup.scss\";\r\n  //popup test\r\n  const NestedToolTip = (props) => (\r\n    <Popup \r\n      trigger= {<label id=\"label\">Action </label>}\r\n      position=\"bottom left\"\r\n      closeOnDocumentClick>{close=>(\r\n        <div><div>\r\n        <Popup\r\n          trigger={<option id=\"option\"> Delete All </option>} modal\r\n          position=\"bottom left\">\r\n            <span> <h2 className=\"Dh2\">Delete Documents</h2>\r\n            <p className=\"content Dh3\">\r\n              Are you sure you want to delete All files?\r\n              <br /> NOTE:The deleted file will be stored in trash for 30 days.</p>\r\n            <button\r\n              className=\"btn-cancel btn-c\" \r\n              onClick={()=>{close()}}>CANCEL</button>\r\n            <button className=\"btn-continue btn-d\" onClick={async()=>{await props.defdelete(close)}}>DELETE</button></span>\r\n            </Popup></div>\r\n        <div>\r\n         <Popup\r\n          trigger={<option id=\"option\">Delete Selected </option>} modal\r\n          position=\"top right\">\r\n          <span> <h2 className=\"Dh2\">Delete Documents</h2>\r\n            <p className=\"content Dh3\">\r\n              Are you sure you want to Delete selected files?\r\n               <br /> NOTE:The deleted file will be stored in trash for 30 days.</p>\r\n            <button\r\n              className=\"btn-cancel btn-c\" \r\n              onClick={()=>{close()}}>CANCEL</button>\r\n            <button className=\"btn-continue btn-d\" onClick={async ()=>{await props.deleted(close)}}>DELETE</button> </span>\r\n        </Popup></div>\r\n        <div>\r\n        <Popup\r\n          trigger={<option id=\"option\"> Restore All </option>} modal\r\n          position=\"top right\"\r\n           >{close=>(\r\n          <span> <h2 className=\"Dh2\">Restore Documents</h2>\r\n            <p className=\"content Dh3\">\r\n              Are you sure you want to Restore All files?</p>\r\n            <button\r\n              className=\"btn-cancel btn-c\" \r\n              onClick={()=>{close()}}>CANCEL</button>\r\n            <button className=\"btn-continue btn-d\" onClick={async()=>{await props.defrestore(close)}}>RESTORE</button> </span>\r\n           )}</Popup></div>\r\n          <div>\r\n         <Popup\r\n          trigger={<option id=\"option\"> Restore Selected </option>} modal\r\n          position=\"top right\">\r\n          <span> <h2 className=\"Dh2\">Restore Documents</h2>\r\n            <p className=\"content Dh3\">\r\n              Are you sure you want to Restore selected files?</p>\r\n            <button\r\n              className=\"btn-cancel btn-c\" \r\n              onClick={()=>{close()}}\r\n            >CANCEL</button>\r\n            <button className=\"btn-continue btn-d\" onClick={async ()=>{await props.restored(close)}}>RESTORE</button> </span>\r\n          </Popup></div> </div> )}      \r\n    </Popup>\r\n  );\r\n  export default NestedToolTip;","import React, { Fragment,useEffect,useState} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash,faUndo,faFile,faFolder} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Axios from 'axios';\r\nimport Pagination from '../Pagination/Pagination';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport LoadingIndicator from '../../Utils/LoadingIndicator';\r\nimport Search from '../SearchBar/SearchBar';\r\nimport alertify from 'alertifyjs';\r\nimport './TrashDisplay.scss';\r\nimport '../../Containers/styles.scss';\r\nimport { getToken,getUrl } from '../../Utils/Common';\r\nimport ProfilePic from \"../Avtar/Avtar\";\r\nimport NestedToolTip from \"../UI/popup\";\r\n\r\nfunction TrashDisplayFiles(props){\r\n  let history = useHistory();\r\n  const[TrashFileState,setTrashFileState]=useState([]);\r\n  const [lastButtonClicked, setLastButtonClicked] = useState(\"\");\r\n  const [ currentPage, setCurrentPage ] = useState(1);\r\n  const [postsPerPage] = useState(10);\r\n  const [ paginationDefualt, setPaginationDefault ] = useState([]);\r\n  const [hasMoreItems , setMoreItems] = useState('');\r\n  const [skipCount , setSkipCount ] = useState('');\r\n  const [count,setCount]=useState('');\r\n  const [totalitems,settotalitems]=useState('')\r\n\r\n  //API CALL\r\n  useEffect(()=>{\r\n    getDeletedData();\r\n  },[]);\r\n\r\nconst getDeletedData=()=>{  //content of trash page\r\n  trackPromise(\r\n  Axios.get(getUrl()+'alfresco/api/-default-/public/alfresco/versions/1/deleted-nodes?skipCount=0&maxItems=50',\r\n    {headers:{\r\n    Authorization: `Basic ${btoa(getToken())}`\r\n     }}).then((response) => {\r\n      let FileData=response.data;\r\n      setPaginationDefault(response.data.list.pagination)\r\n      settotalitems(response.data.list.pagination.totalItems)\r\n      setSkipCount(response.data.list.pagination.skipCount+10)\r\n      setTrashFileState(response.data.list.entries.map(d=>{\r\n        return {\r\n          select:false,\r\n          id:d.entry.id,\r\n          name:d.entry.name,\r\n          createdOn:d.entry.createdAt.split('T')[0],\r\n          archivedAt:d.entry.archivedAt.split('T')[0],\r\n          type:d.entry.isFile\r\n        }})) \r\n      }).catch(err=>alert(err))\r\n  )\r\n};\r\n  // Get current posts\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = TrashFileState.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  const permanentDeleteByIds=(close)=>{    //function to delete selected files permanently\r\n    TrashFileState.forEach(d=>{\r\n      if(d.select){\r\n      Axios.delete(getUrl()+`alfresco/s/api/archive/archive/SpacesStore/${d.id}`, \r\n      {headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n      }\r\n    }).then((response)=>{\r\n          close();\r\n          alertify.alert('Document Deleted Successfully').setting({\r\n            'message': 'Document Deleted Successfully',\r\n            'onok': () => {alertify.alert().destroy();} \r\n          });\r\n          getDeletedData();\r\n        }).catch(err=>alert(err));\r\n      };\r\n      })}\r\n\r\n    const DefaultDelete=(close)=>{  //function to delete all the files permanently \r\n       Axios.delete(getUrl()+`alfresco/s/api/archive/workspace/SpacesStore`, \r\n        {headers:{\r\n        Authorization: `Basic ${btoa(getToken())}`\r\n         }\r\n       }).then((response)=>{\r\n            close();\r\n            alertify.alert('Document Deleted Successfully').setting({\r\n              'message': 'Document Deleted Successfully',\r\n              'onok': () => {alertify.alert().destroy();} \r\n            });\r\n            getDeletedData();\r\n           }).catch(err=>alert(err));\r\n         };\r\n        \r\n     const DefaultRestore=(close)=>{ //function to restore all the files\r\n      TrashFileState.forEach( d=>{\r\n        if(d.id){\r\n           Axios.put(getUrl()+`/alfresco/s/api/archive/archive/SpacesStore/${d.id}`, {},\r\n            {headers:\r\n            {\r\n              Authorization: `Basic ${btoa( getToken() )}`\r\n            }\r\n        }).then((response)=>{\r\n              close();\r\n              alertify.alert('Document Restored Successfully').setting({\r\n                'message': 'Document Restored Successfully',\r\n                'onok': () => {alertify.alert().destroy();} \r\n              });\r\n              getDeletedData();\r\n              }).catch(err=>alert(err));\r\n          };\r\n          })\r\n      }\r\n\r\n    const RestoreFileByIds=(close)=>{  //function to restore selected files \r\n      TrashFileState.forEach( d=>{\r\n        if(d.select){\r\n          Axios.put(getUrl()+`alfresco/s/api/archive/archive/SpacesStore/${d.id}`, {},\r\n            {headers:\r\n            {\r\n              Authorization: `Basic ${btoa( getToken() )}`\r\n            }\r\n        }).then((response)=>{\r\n              close();\r\n              alertify.alert('Document Restored Successfully').setting({\r\n                'message': 'Document Restored Successfully',\r\n                'onok': () => {alertify.alert().destroy();} \r\n              });\r\n              getDeletedData();\r\n              }).catch(err=>alert(err));\r\n          };\r\n          })}\r\n\r\n     const handleDelete=(id)=>{    //function to delete files by clicking on trash icon\r\n      Axios.delete(getUrl()+`alfresco/s/api/archive/archive/SpacesStore/${id}`, \r\n      {headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n       }\r\n     }).then((data)=>{\r\n          alertify.confirm().destroy(); \r\n          alertify.alert('Document Deleted Successfully').setting({\r\n            'message': 'Document Deleted Successfully',\r\n            'onok': () => {alertify.alert().destroy();} \r\n          });\r\n          getDeletedData();\r\n           }).catch(err=>alert(err));}\r\n     \r\n     const handleRestore=(id)=>{ //function to restore files by clicking on restore icon\r\n        Axios.put(getUrl()+`alfresco/s/api/archive/archive/SpacesStore/${id}`, {},\r\n        {headers:{\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n       }\r\n     }).then((data)=>{\r\n          alertify.confirm().destroy(); \r\n          alertify.alert('Document Restored Successfully').setting({\r\n            'message': 'Document Restored Successfully',\r\n            'onok': () => {alertify.alert().destroy();} \r\n          });\r\n          getDeletedData();\r\n           }).catch(err=>alert(err));}\r\n     \r\n     \r\n      function next(){  //function for pagination's next button\r\n      var localSkipCount = skipCount;\r\n      if (lastButtonClicked === \"previous\")\r\n         {\r\n          if(totalitems>20){\r\n           if(localSkipCount===0)\r\n             {\r\n               localSkipCount=localSkipCount + 10 \r\n             }else{\r\n              localSkipCount = localSkipCount + 20;}\r\n          }\r\n       else{\r\n          localSkipCount=localSkipCount + 0 ;\r\n        }}\r\n       document.getElementById(\"myprevBtn\").disabled = false;\r\n         Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/deleted-nodes?skipCount=${localSkipCount}&maxItems=10`,\r\n         {headers:{\r\n           Authorization: `Basic ${btoa(getToken())}`\r\n         }}).then((response) => {\r\n          setTrashFileState(response.data.list.entries.map(d=>{\r\n            return {\r\n              select:false,\r\n              id:d.entry.id,\r\n              name:d.entry.name,\r\n              createdOn:d.entry.createdAt.split('T')[0],\r\n              archivedAt:d.entry.archivedAt.split('T')[0]\r\n            }})) \r\n            setCount(response.data.list.pagination.count)\r\n              setSkipCount(response.data.list.pagination.skipCount+10)\r\n              if(response.data.list.entries.length===0){\r\n                document.getElementById(\"myBtn\").disabled = true;  \r\n              }\r\n              setLastButtonClicked(\"next\");\r\n        });\r\n        }\r\n      \r\n      function previous(){ //function for pagination's previous button\r\n        var localSkipCount = skipCount;\r\n        if (lastButtonClicked === \"next\") {\r\n          if(localSkipCount===10){\r\n              \r\n              localSkipCount = localSkipCount - 10;\r\n          }\r\n          else{\r\n         localSkipCount = localSkipCount - 20;}\r\n      }\r\n        document.getElementById(\"myBtn\").disabled = false;  \r\n        Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/deleted-nodes?skipCount=${localSkipCount}&maxItems=10`,\r\n        {headers:{\r\n          Authorization: `Basic ${btoa(getToken())}`\r\n        }}).then((response) => {\r\n          setTrashFileState(response.data.list.entries.map(d=>{\r\n            return {\r\n              select:false,\r\n              id:d.entry.id,\r\n              name:d.entry.name,\r\n              createdOn:d.entry.createdAt.split('T')[0],\r\n              archivedAt:d.entry.archivedAt.split('T')[0]\r\n            }})) \r\n            setCount(response.data.list.pagination.count)\r\n            if (response.data.list.pagination.skipCount >0){\r\n              setSkipCount(response.data.list.pagination.skipCount - 10)\r\n              document.getElementById(\"myprevBtn\").disabled = false;\r\n            }else{\r\n              document.getElementById(\"myprevBtn\").disabled = true;\r\n            }\r\n            setLastButtonClicked(\"previous\")\r\n           });\r\n       }\r\n        \r\n       function handleDocument(file,id,title){\r\n        file ? history.push(`/document-details/${id}/${title}`) : history.push(`/document/${id}`)\r\n      }\r\n      \r\n  return(\r\n    <Fragment>\r\n        <div id=\"second_section\">\r\n        <div className=\"title\">\r\n          <h2>Trash</h2>\r\n          <ProfilePic />\r\n        </div>\r\n\r\n        <div className=\"search-profile\">\r\n          <Search />\r\n        </div>\r\n\r\n        <div className=\"filesUpload\">\r\n        <table id=\"doc_list\">\r\n          <tbody>\r\n            <tr id=\"icons\">\r\n                <th id=\"icon01\">\r\n                  <input type=\"checkbox\"\r\n                  onChange={(e)=>{\r\n                    let checked=e.target.checked;\r\n                    setTrashFileState(TrashFileState.map((d)=>{\r\n                      d.select=checked;\r\n                      return d;\r\n                    }));\r\n                  }}/></th>\r\n                <th id=\"item_name\">Item Name</th>\r\n                <th id=\"created\">Created on</th> \r\n                <th id=\"deleted\">Deleted on</th>\r\n                 <th id=\"action-trash\">\r\n\r\n                  <NestedToolTip restored={RestoreFileByIds} defrestore={DefaultRestore}\r\n                  defdelete={DefaultDelete} deleted={permanentDeleteByIds}/>\r\n                  </th>  \r\n                </tr>\r\n                \r\n                {currentPosts.map((d,i) => (\r\n                 <tr  key={d.id} id=\"first_details\">\r\n                 <td className=\"file_icon1\">\r\n                   <input onChange={(event)=>{\r\n                      let checked=event.target.checked;\r\n                    setTrashFileState(TrashFileState.map((data)=>{\r\n                      if(d.id===data.id){\r\n                        data.select=checked;\r\n                      }return data;\r\n                    }));\r\n                   }} type=\"checkbox\" checked={d.select}\r\n                    /> </td> \r\n                 <td className=\"file_name-u\"\r\n                 onClick={() => handleDocument(d.type,\r\n                  d.id,\r\n                  d.name) }>\r\n                 <FontAwesomeIcon className=\"pdf-file fas fa-file-pdf\" \r\n                     icon={d.type ? faFile : faFolder}/> \r\n                    {d.name}</td>         \r\n                 <td className=\"created_t\">{d.createdOn}</td>                     \r\n                <td className=\"deleted_t\">{d.archivedAt}</td> \r\n                <td className=\"delete-icon\">\r\n                <FontAwesomeIcon icon={faTrash} className=\"TrashIcon\" \r\n                onClick={()=>{ alertify.confirm().setting({transition:'pulse',\r\n                buttonFocus : \"ok\",\r\n                'message' : 'DO YOU WANT TO DELETE THIS FILE '+ d.name,'onok': () => {handleDelete(d.id)} ,\r\n                'oncancel': () => {alertify.confirm().destroy();}}).show() }}/>\r\n                <FontAwesomeIcon icon={faUndo} className=\"UndoIcon\" \r\n                 onClick={()=>{ alertify.confirm().setting({transition:'pulse',\r\n                 buttonFocus : \"ok\",\r\n                 'message' : 'DO YOU WANT TO RESTORE THIS FILE '+ d.name,'onok': () => {handleRestore(d.id)} ,\r\n                 'oncancel': () => {alertify.confirm().destroy();}}).show()}}/>\r\n                 </td></tr>\r\n                ))}\r\n        </tbody>\r\n      </table>\r\n      <LoadingIndicator/>\r\n    </div>\r\n  </div>\r\n\r\n  <div className=\"col-md-6\">\r\n      <Pagination\r\n             handlePrev={previous}\r\n             handleNext={next}\r\n        />\r\n    </div>\r\n</Fragment>\r\n)\r\n}\r\n  export default TrashDisplayFiles;","import React, {useEffect,useState,Fragment} from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFilePdf,faTimesCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport ProfilePic from \"../Avtar/Avtar\";\r\nimport Axios from 'axios';\r\nimport alertify from 'alertifyjs';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport LoadingIndicator from '../../Utils/LoadingIndicator';\r\nimport './ManageShares.scss';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Search from \"../SearchBar/SearchBar\";\r\nimport { getToken, getUrl , getUser} from '../../Utils/Common';\r\nimport Pagination from '../Pagination/Pagination';\r\n\r\nfunction ManageShares(){\r\n  let history = useHistory();\r\n  let count=0;\r\n  const[FileState,setFileState]=useState([]);\r\n  const[DetailsState,setDetailsState]=useState([]);\r\n  const [lastButtonClicked, setLastButtonClicked] = useState(\"\");\r\n  const [hasMoreItems , setMoreItems] = useState('');\r\n  const [skipCount , setSkipCount ] = useState('');\r\n  const [totalitems,settotalitems]=useState('')\r\n\r\n //API CALL\r\n useEffect(()=>{\r\n  getDetailsData();\r\n},[])\r\n \r\n const getDetailsData = () => {\r\n  trackPromise(\r\n  Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/shared-links?skipCount=0&maxItems=10&include=properties&where=(sharedByUser='-me-')`,\r\n  {headers:\r\n    {\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n    }}\r\n  ).then((response) => { \r\n  setFileState(response.data.list.entries)\r\n  setSkipCount(response.data.list.pagination.skipCount +10)\r\n  settotalitems(response.data.list.pagination.totalItems)\r\n  setMoreItems(response.data.list.pagination.hasMoreItems)\r\n  response.data.list.entries.forEach(d=>{\r\n      Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${d.entry.nodeId}?include=properties`,\r\n      {headers:\r\n        {\r\n          Authorization: `Basic ${btoa(getToken())}`\r\n        }}\r\n      ).then((response) => {\r\n      setDetailsState(DetailsState => [...DetailsState, {entry:{EFFECTIVEFROM:response.data.entry.properties[\"cm:from\"],\r\n                                        EFFECTIVETO:response.data.entry.properties[\"cm:to\"],\r\n                                      NAME:response.data.entry.name}}])\r\n    })\r\n      .catch((error)=> console.log(error));\r\n    }) \r\n}))\r\n  }\r\n\r\nfunction handleDocument(id,title){\r\n  history.push(`/document-details/${id}/${title}`)\r\n}\r\n\r\nfunction handleDelete(id){\r\n  Axios.delete(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/shared-links/${id}`,\r\n  {headers:\r\n    {\r\n      Authorization: `Basic ${btoa(getToken())}`\r\n    }}).then(response => {\r\n    alertify.confirm().destroy();\r\n    alertify.alert('Document Unshared Successfully').setting({\r\n      'message': 'Document Unshared Successfully',\r\n      'onok': () => {alertify.alert().destroy();} \r\n    }); \r\n  }).catch(error => {\r\n    if (error.response.status===404){\r\n      alert(\"Something went wrong!!\");\r\n    }\r\n});\r\n}\r\n\r\n\r\n  function next(){\r\n    \r\n    var localSkipCount = skipCount;\r\n    if (lastButtonClicked === \"previous\")\r\n    {\r\n    if(totalitems>=20){\r\n      if(localSkipCount===0)\r\n        {\r\n          localSkipCount=localSkipCount + 10 \r\n        }else{\r\n        localSkipCount = localSkipCount + 20;}\r\n    }\r\n  \r\n  else{\r\n    localSkipCount=localSkipCount + 0 ;\r\n  }}\r\n    document.getElementById(\"myprevBtn\").disabled = false;\r\n    Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/shared-links?&maxItems=10&skipCount=${localSkipCount}&include=properties&where=(sharedByUser='-me-')`,\r\n    {headers:\r\n      {\r\n        Authorization: `Basic ${btoa(getToken())}`\r\n      }}\r\n    ).then((response) => {\r\n      setFileState(response.data.list.entries)\r\n      response.data.list.entries.forEach(d=>{\r\n       Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${d.entry.nodeId}?include=properties`,\r\n        {headers:\r\n          {\r\n            Authorization: `Basic ${btoa(getToken())}`\r\n          }}\r\n        ).then((response) => {\r\n        DetailsState.map(r => {\r\n          if(response.data.entry.name === r.entry.NAME ){\r\n                count=count+1   \r\n            }\r\n            })\r\n        if(count>0){\r\n          setDetailsState(DetailsState => [...DetailsState])\r\n        } \r\n        else{\r\n          setDetailsState(DetailsState => [...DetailsState, {entry:{EFFECTIVEFROM:response.data.entry.properties[\"cm:from\"],\r\n          EFFECTIVETO:response.data.entry.properties[\"cm:to\"],\r\n          NAME:response.data.entry.name}}])\r\n        }  \r\n      }) \r\n        .catch((error)=> console.log(error)) \r\n      })\r\n        setMoreItems(response.data.list.pagination.hasMoreItems)\r\n      if (response.data.list.pagination.hasMoreItems){\r\n        setSkipCount(response.data.list.pagination.skipCount + 10)\r\n        document.getElementById(\"myBtn\").disabled = false;\r\n      }\r\n      else{\r\n        document.getElementById(\"myBtn\").disabled = true;\r\n      }\r\n      setLastButtonClicked(\"next\");\r\n      });\r\n  }\r\n\r\n    function previous(){\r\n      var localSkipCount = skipCount;\r\n      if (lastButtonClicked === \"next\") {\r\n        if(localSkipCount<=20){\r\n           localSkipCount = localSkipCount - 10;\r\n        }\r\n        else{\r\n      localSkipCount = localSkipCount - 20;}\r\n    }\r\n      document.getElementById(\"myBtn\").disabled = false;\r\n      Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/shared-links?&include=properties&maxItems=10&skipCount=${localSkipCount}&where=(sharedByUser='-me-')`,\r\n      {headers:\r\n        {\r\n          Authorization: `Basic ${btoa(getToken())}`\r\n        }}\r\n      ).then((response) => {\r\n        setFileState(response.data.list.entries)\r\n        response.data.list.entries.forEach(d=>{\r\n          Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${d.entry.nodeId}?include=properties`,\r\n          {headers:\r\n            {\r\n              Authorization: `Basic ${btoa(getToken())}`\r\n            }}\r\n          ).then((response) => {\r\n        })\r\n          .catch((error)=> console.log(error));\r\n        }) \r\n         setMoreItems(response.data.list.pagination.hasMoreItems)\r\n          if (response.data.list.pagination.skipCount > 0){\r\n            setSkipCount(response.data.list.pagination.skipCount - 10)\r\n            document.getElementById(\"myprevBtn\").disabled = false;\r\n          }\r\n          else{\r\n            document.getElementById(\"myprevBtn\").disabled = true;\r\n          }\r\n          setLastButtonClicked(\"previous\")\r\n        });\r\n    }\r\n\r\n    return( \r\n          <Fragment>\r\n          \r\n            <div id=\"second_section\">\r\n            <div className=\"title\">\r\n                <h2>Manage Shares</h2>\r\n                <ProfilePic />\r\n              </div>\r\n\r\n              <div className=\"search-profile\">\r\n                <Search />\r\n              </div>\r\n              \r\n                  <div className=\"filesShared\">\r\n                    <table id=\"doc_list\">\r\n                      <thead>\r\n                      <tr id=\"icons\">\r\n                        <th id=\"item-names\">Item Name</th>\r\n                        <th id=\"shared\">Effective From</th>\r\n                        <th id=\"shared\">Effective To</th>\r\n                        <th id=\"action\">Action</th>\r\n                      </tr>\r\n                      </thead>\r\n                      \r\n                      { FileState.map((d) => (\r\n                        <tbody key={d.entry.nodeId}>\r\n                        <tr  id=\"first_details\"  >\r\n                        <td className=\"file_name-u\"  onClick={() => handleDocument(\r\n                                d.entry.nodeId,\r\n                                d.entry.name) }>\r\n                        <FontAwesomeIcon className=\"pdf-file fas fa-file-pdf\" icon={faFilePdf}/> \r\n                        {d.entry.name}</td>\r\n                        \r\n                      {DetailsState.map(r => (\r\n                        d.entry.name === r.entry.NAME ?\r\n                          \r\n                          <td className=\"details-u-s\" key={r.entry.NAME}>{r.entry.EFFECTIVEFROM ? r.entry.EFFECTIVEFROM.split('T')[0]  : null}</td>\r\n                        : null\r\n                        ))}\r\n                        {DetailsState.map(r => (\r\n                        d.entry.name === r.entry.NAME ?\r\n                          <td className=\"details-u-s\" key={r.entry.NAME}>{r.entry.EFFECTIVETO ? r.entry.EFFECTIVETO.split('T')[0] : null}</td>\r\n                        : null\r\n                        ))}\r\n                        <td className=\"delete-u-s\">\r\n                        <FontAwesomeIcon className=\"fas fa-times-circle\" icon={faTimesCircle} \r\n                          onClick={()=>{ alertify.confirm().setting({transition:'pulse',\r\n                          buttonFocus : \"ok\",\r\n                          'message' : 'DO YOU WANT TO UNSHARE THIS FILE '+ d.entry.name,'onok': () => {handleDelete(d.entry.id)} ,\r\n                          'oncancel': () => {alertify.confirm().destroy();}}).show()\r\n              }}/>\r\n                      </td>\r\n                      </tr>\r\n                      </tbody>\r\n                      ) )}\r\n                    \r\n                  </table>\r\n                  <LoadingIndicator/>\r\n                </div>\r\n                </div>\r\n          <div className=\"col-md-6\">\r\n          <Pagination\r\n              handlePrev={previous}\r\n              handleNext={next}\r\n            />\r\n          </div>\r\n        </Fragment>\r\n              )\r\n              };\r\n\r\n\r\nexport default ManageShares;","import React, { Fragment , useState} from 'react';\r\nimport axios from 'axios';\r\nimport {getToken,getUser,getUrl} from  \"../../Utils/Common\";\r\nimport './ChangePassword.scss';\r\nimport ProfilePic from \"../Avtar/Avtar\";\r\nimport alertify from 'alertifyjs';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport LoadingIndicator from '../../Utils/LoadingIndicator';\r\nimport '../../Containers/styles.scss';\r\nimport Search from '../SearchBar/SearchBar';;\r\n\r\nfunction ChangePassword(props){\r\n    const user = getUser()\r\n    const userName = user[0].toUpperCase()+user.slice(1);\r\n    const oldPassword = useFormInput ('');\r\n    const newPassword = useFormInput ('');\r\n    const confirmPassword = useFormInput('');\r\n\r\nfunction handlechangePassword(){\r\n    \r\n    if (newPassword.value === confirmPassword.value){\r\n        trackPromise(\r\n        axios.post(getUrl()+`alfresco/service/api/person/changepassword/${user}`,{\r\n        newpw : newPassword.value, oldpw : oldPassword.value\r\n        },\r\n        {\r\n            headers:\r\n                {\r\n                    Authorization: `Basic ${btoa(getToken())}`\r\n                }\r\n        }).then(response => {\r\n            console.log(response)\r\n            alertify.alert('Password Changed Successfully').setting({\r\n                'message': 'Password Changed Successfully',\r\n                'onok': () => {alertify.alert().destroy();} \r\n              });\r\n        }).catch(error => {\r\n            if (error.response.status===401){\r\n                alert(\"Unauthenticated!! please enter correct password\");\r\n              }\r\n            console.log(error)\r\n        })\r\n        )\r\n    }\r\n    else {\r\n        alert('Password does not match');\r\n    }\r\n    \r\n}\r\n\r\nreturn(\r\n    <Fragment>\r\n        <div id=\"second_section\">\r\n\r\n              \r\n            <div className=\"title\">\r\n            <h2>CHANGE PASSWORD</h2>\r\n            <ProfilePic />\r\n            </div> \r\n\r\n            <div className=\"search-profile\">\r\n            <Search />\r\n            </div> \r\n\r\n                <div id=\"share-details-n\">\r\n                <div id=\"column-1\">\r\n                    <p>Enter Old Password</p>\r\n                    <p>Enter New Password</p>\r\n                    <p>Confirm Password</p>\r\n                </div>\r\n                <div id=\"column-2\">\r\n                    <input type=\"password\" {...oldPassword}></input>\r\n                    <input type=\"password\" {...newPassword}></input>\r\n                    <input type=\"password\" {...confirmPassword}></input>\r\n                </div>\r\n                <button className=\"btn01\" type=\"button\" onClick={handlechangePassword}>Change</button>\r\n                <button className=\"btn02\" type=\"button\">Cancel</button>\r\n            </div>\r\n            <LoadingIndicator/>\r\n            </div>\r\n                \r\n          </Fragment>\r\n);\r\n}\r\n\r\nconst useFormInput = initialValue => {\r\n    const [value, setValue] = useState(initialValue);\r\n   \r\n    const handleChange = e => {\r\n      setValue(e.target.value);\r\n    }\r\n    return {\r\n      value,\r\n      onChange: handleChange\r\n    }\r\n  }\r\n\r\nexport default ChangePassword;","import { useHistory } from \"react-router-dom\";\r\nimport React from 'react';\r\nimport './backButton.scss';\r\n\r\n/******************************************\r\n* File: backButton.js\r\n* Desc: To go back to the previous page.\r\n* @author: Shayane Basu, 06 October 2020\r\n********************************************/\r\n\r\nexport const Item = () => {\r\n    let history = useHistory();\r\n\r\n    return (\r\n        <div data-test = \"component-app\">\r\n          <button onClick={() => history.goBack()} \r\n          data-test = \"back-button\"\r\n          className=\"backButton\">Back</button>\r\n        </div>\r\n    );\r\n};","import React, {useEffect,useState,Fragment} from 'react';\r\nimport { useParams , useHistory } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Item } from '../../backButton/backButton';\r\nimport alertify from 'alertifyjs';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport LoadingIndicator from '../../../Utils/LoadingIndicator';\r\nimport { faFile,faTimesCircle,faFolder} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Pagination from '../../Pagination/Pagination';\r\nimport Search from \"../../SearchBar/SearchBar\";\r\nimport ProfilePic from \"../../Avtar/Avtar\";\r\nimport {getToken,getUrl} from \"../../../Utils/Common\";\r\nimport './SubDocument.scss';\r\nimport Axios from 'axios';\r\n\r\nfunction SubDocument(){\r\n  let history = useHistory();\r\n  let params = useParams();\r\n  const id = params.id;\r\n  const[documents,setDocuments]=useState([]);\r\n  const [ paginationDefualtDoc, setPaginationDefaultDoc ] = useState([]);\r\n  const currentPage = useState(1);\r\n  const [postsPerPage] = useState(10);\r\n  const [hasMoreItems , setMoreItems] = useState('');\r\n  const totalitems=useState('');\r\n  const [lastButtonClicked, setLastButtonClicked] = useState(\"\");\r\n  const [skipCount , setSkipCount ] = useState(0);\r\n  \r\n  // Get current posts\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = documents.slice(indexOfFirstPost, indexOfLastPost);\r\n  \r\n  useEffect(()=>{\r\n    getData()\r\n  },[id]);\r\n\r\n  const getData = () => {\r\n    trackPromise(\r\n    Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}/children?skipCount=0&maxItems=10`,\r\n    {\r\n    headers:{\r\n        Authorization: `Basic ${btoa(getToken())}`\r\n        } }).then((response) => {\r\n    console.log(response.data)\r\n    setDocuments(response.data.list.entries)\r\n    setSkipCount(response.data.list.pagination.skipCount + 10)\r\n    setPaginationDefaultDoc(response.data.list.pagination) \r\n    console.log(response.data.list.pagination)\r\n    })\r\n    )\r\n  };\r\n  \r\nconst handleDelete=(id)=>{\r\n      Axios.delete(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}`,\r\n      {\r\n      headers:{\r\n          Authorization: `Basic ${btoa(getToken())}`\r\n          } }\r\n      ).then((data)=>{\r\n          console.log(data);\r\n          alertify.confirm().destroy();\r\n          alertify.alert('Document Deleted Successfully').setting({\r\n            'onok': () => {alertify.alert().destroy();} \r\n          }); \r\n          getData();\r\n           }).catch(err=>alert(err));\r\n      }\r\n    \r\n      function next(){\r\n        var localSkipCount = skipCount;\r\n        if (lastButtonClicked === \"previous\")\r\n               {\r\n                if(totalitems>20){\r\n                 if(localSkipCount===0)\r\n                   {\r\n                     localSkipCount=localSkipCount + 10 \r\n                   }else{\r\n                    localSkipCount = localSkipCount + 20;}\r\n                }\r\n              else{\r\n                localSkipCount=localSkipCount + 0 ;\r\n              }}\r\n         document.getElementById(\"myprevBtn\").disabled = false;\r\n         Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}/children?skipCount=${localSkipCount}`,    \r\n              {headers:{\r\n           Authorization: `Basic ${btoa(getToken())}`\r\n         }}).then((response) => {\r\n          setDocuments(response.data.list.entries)\r\n          setPaginationDefaultDoc(response.data.list.pagination) \r\n          setMoreItems(response.data.list.pagination.hasMoreItems)\r\n          if (response.data.list.pagination.hasMoreItems)\r\n          {\r\n            setSkipCount(response.data.list.pagination.skipCount + 10)\r\n            document.getElementById(\"myBtn\").disabled = false;\r\n           }\r\n           else{\r\n            document.getElementById(\"myBtn\").disabled = true;\r\n           }\r\n           setLastButtonClicked(\"next\");\r\n         }); \r\n      }\r\n        \r\n      \r\n      function previous(){\r\n        var localSkipCount = skipCount;\r\n        if (lastButtonClicked === \"next\") {\r\n          if(localSkipCount===10){\r\n              localSkipCount = localSkipCount - 10;\r\n          }\r\n          else{\r\n         localSkipCount = localSkipCount - 20;}\r\n      }\r\n       document.getElementById(\"myBtn\").disabled = false;\r\n       Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}/children?skipCount=${localSkipCount}`,\r\n        {headers:{\r\n          Authorization: `Basic ${btoa(getToken())}`\r\n        }}).then((response) => {\r\n         setDocuments(response.data.list.entries)\r\n         setPaginationDefaultDoc(response.data.list.pagination) \r\n         setMoreItems(response.data.list.pagination.hasMoreItems)\r\n          if (response.data.list.pagination.skipCount > 0)\r\n          {\r\n            setSkipCount(response.data.list.pagination.skipCount - 10)\r\n            document.getElementById(\"myprevBtn\").disabled = false;\r\n          }\r\n          else{\r\n            document.getElementById(\"myprevBtn\").disabled = true;\r\n           }\r\n           setLastButtonClicked(\"previous\")\r\n          });\r\n       }\r\n      \r\n    function handleDocument(file , id, title){\r\n      file ? history.push(`/document-details/${id}/${title}`)\r\n      : history.push(`/document/${id}`)\r\n    }\r\n\r\n    return( \r\n      <Fragment>\r\n         <div id=\"second_section\">\r\n         <div className=\"title\">\r\n            <h2>Document Library</h2>\r\n            <ProfilePic />\r\n            </div> \r\n\r\n            <div className=\"search-profile\">\r\n            <Search />\r\n            </div> \r\n            \r\n              <div className=\"filesShared\">\r\n                <table id=\"doc_list\">\r\n                  <thead>\r\n                  <tr id=\"icons\">\r\n                    <th id=\"item-names\">Item Name</th>\r\n                    <th id=\"shared\">Created By</th>\r\n                    <th id=\"shared\">Created On</th>\r\n                    <th id=\"shared\">Modified On</th>\r\n                    <th>Actions</th>\r\n                    <th id=\"action\"><Item /></th>\r\n                  </tr>\r\n                  </thead>\r\n                  { currentPosts.map((d) => (\r\n                  <tbody key={d.entry.id}>\r\n                    <tr id=\"first_details\">\r\n                    <td className=\"file_name-u\" \r\n                    onClick={() => handleDocument(\r\n                      d.entry.isFile,\r\n                      d.entry.id,\r\n                      d.entry.name)}>\r\n                      <FontAwesomeIcon \r\n                      className=\"pdf-file fas fa-file-pdf\" \r\n                        icon={d.entry.isFile ? faFile : faFolder} \r\n                          />\r\n                       {d.entry.name}</td>\r\n                    <td className=\"details-u-s\">{d.entry.createdByUser.displayName}</td>\r\n                    <td className=\"details-u-s\">{d.entry.createdAt.split('T')[0]}</td>\r\n                    <td className=\"details-u-s\">{d.entry.modifiedAt.split('T')[0]}</td>\r\n                    <td className=\"delete-u-s-action\">\r\n                    <FontAwesomeIcon className=\"fas fa-times-circle\" icon={faTimesCircle}\r\n\r\n                    onClick={()=>{ alertify.confirm().setting({transition:'pulse',\r\n                                buttonFocus : \"ok\",\r\n                                'message' : 'DO YOU WANT TO DELETE THIS FILE '+ d.entry.name,'onok': () => {handleDelete(d.entry.id)} ,\r\n                                'oncancel': () => {alertify.confirm().destroy();}}).show()\r\n                    }} />\r\n                  </td>\r\n                  </tr>\r\n                </tbody>\r\n                ) )}\r\n              </table>\r\n              <LoadingIndicator/>\r\n\r\n            </div>\r\n            </div>\r\n      <div className=\"col-md-6\">\r\n      <Pagination\r\n       handlePrev={previous}\r\n       handleNext={next}\r\n        />\r\n     \r\n        </div>\r\n    </Fragment>\r\n          )\r\n    }\r\nexport default SubDocument;","import React , { Fragment,useRef,useEffect, useState } from 'react';\r\nimport { useHistory,useParams } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport {getToken, getUrl} from \"../../Utils/Common\";\r\nimport \"./MoreDetails.scss\"\r\n\r\nfunction FullAudittrails() {\r\n    let history = useHistory();\r\n    let params = useParams();\r\n    const [fullAuditDetails, setFullAuditDetails] = useState([])\r\n\r\n    const title = params.title;\r\n\r\n    const path = window.location.href; \r\n    let nodeId =  path.split('/')\r\n    let id = nodeId[5]\r\n    console.log(nodeId)\r\n    \r\n    useEffect(() => {axios.get(getUrl()+\r\n        `alfresco/s/ev/nodeaudittrail?nodeRef=workspace://SpacesStore/${id}`,\r\n        {\r\n            headers: {\r\n              Authorization: `Basic ${btoa(getToken())}`,\r\n           },\r\n          }).then((response)=>{\r\n              let MoreData=response.data;\r\n              console.log(MoreData)\r\n\r\n        setFullAuditDetails(MoreData.data.slice(0,20).map(d=>{\r\n            return{\r\n            timeF: d.time.split('T')[0],\r\n            actionF: d.method,\r\n            userF: d.userName.split('.')[0]\r\n            }\r\n        }))\r\n    })}, [])\r\n\r\n    return(\r\n        <Fragment>\r\n        <div className=\"audit-header\">\r\n        <h2>{title}</h2>\r\n        <button onClick={() => history.goBack()}>Back</button>\r\n\r\n            <h3>Detailed Document Audit History</h3>\r\n           \r\n                <table>\r\n                <tbody className=\"label-input\">\r\n                <th className=\"actions\">Action </th>\r\n                <th className=\"users\">User</th>\r\n                <th className=\"time\">Time</th>\r\n\r\n                {fullAuditDetails.map((d)=> (\r\n                <tr key={d.id}>   \r\n                <td >{d.actionF}</td>\r\n                <td >{d.userF}</td>\r\n                <td>{d.timeF}</td>\r\n                </tr>))}\r\n                </tbody>\r\n                </table>\r\n        </div>\r\n        </Fragment>\r\n        )\r\n}\r\n\r\nexport default FullAudittrails;","import React , { Fragment,useEffect, useState } from 'react';\r\nimport \"./MoreDetails.scss\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faShareAlt} from \"@fortawesome/free-solid-svg-icons\"\r\n// import {instance} from \"../ApiUrl/endpointName.instatnce\"\r\nimport { useHistory,useParams } from \"react-router-dom\";\r\nimport {getToken, getUrl} from \"../../Utils/Common\";\r\nimport Axios from 'axios';\r\n\r\n\r\nconst DocumentDetails = (props) => {\r\n\r\n    const [createdBy, setCreatedBy] = useState([]);\r\n    const [createdAt, setCreatedAt] = useState([]);\r\n\r\n    const [docSize, setDocSize] = useState([]);\r\n    const [modificationDate, setmodificationDate] = useState([]);\r\n    const [documentType, setDocumentType] = useState([]);\r\n    const [latestVersion, setLatestVersion] = useState([]);\r\n\r\n    const [auditDetails, setAuditDetails] = useState([])\r\n\r\n    let history = useHistory();\r\n    let params = useParams();\r\n\r\n    const title = params.title;\r\n\r\n    const path = window.location.href; \r\n    let nodeId =  path.split('/')\r\n    let id = nodeId[5]\r\n    \r\n    /****\r\n     * Function to convert bytes to other size like GB, KB, MB, TB. \r\n     * @param: (1) {bytes} Size in bytes.\r\n     * @param: (2) Seperator.\r\n     * @return Converted file size which is more readable.\r\n     ****/\r\n    function bytesToSize(bytes, seperator = \"\") {\r\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB']\r\n        if (bytes === 0) return 'n/a'\r\n        {/* Convert string to integer and then convert bytes to KB/MB/GB/TB */}\r\n        const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)), 10)\r\n        if (i === 0) return `${bytes}${seperator}${sizes[i]}`\r\n        return `${(bytes / (1024 ** i)).toFixed(1)}${seperator}${sizes[i]}`\r\n      }\r\n\r\n    useEffect(()=>{\r\n        DocDetails();\r\n    },[id])\r\n\r\n    /******************************************\r\n    * Desc: Function to get the document details.\r\n    * @returns: The document details like modification date, document type, \r\n    * created by, created at and document size.\r\n    ********************************************/\r\n    function DocDetails(){\r\n        Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}`,\r\n        {\r\n            headers: {\r\n              Authorization: `Basic ${btoa(getToken())}`,\r\n           }\r\n          }).then((response) => {\r\n            setmodificationDate(response.data.entry.modifiedAt.split('T')[0])\r\n            setDocumentType(response.data.entry.nodeType.split(':')[1])\r\n            setDocSize(response.data.entry.content)\r\n            setCreatedBy(response.data.entry.createdByUser.displayName)\r\n            setCreatedAt(response.data.entry.createdAt.split('T')[0])\r\n    })}\r\n\r\n      /******************************************\r\n    * Desc: Function to share a document with API call.\r\n    * @returns: The shared link (shown as a alert message).\r\n    ********************************************/\r\n    function DocumentShare () {\r\n        Axios.post(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/shared-links`,\r\n        {\"nodeId\":`${id}`},\r\n        {\r\n            headers: {\r\n              Authorization: `Basic ${btoa(getToken())}`,\r\n           },\r\n          }).then((response) => {\r\n              const sharedLink = response.data.entry.id\r\n              alert(\"Your public share link is https://systest.eisenvault.net/share/s/\" +sharedLink)\r\n          }) \r\n    }\r\n\r\n    useEffect(()=>{AuditTrail()}, [id])\r\n\r\n    /******************************************\r\n    * Desc: Function to get the latest 5 audit trail(activities on a file) with API call.\r\n    * @returns: Audit Trail Details.\r\n    ********************************************/\r\n    function AuditTrail(){\r\n        Axios.get(getUrl()+`alfresco/s/ev/nodeaudittrail?nodeRef=workspace://SpacesStore/${id}`,\r\n        {\r\n            headers: {\r\n              Authorization: `Basic ${btoa(getToken())}`,\r\n           },\r\n          }).then((response)=>{\r\n              let MoreData=response.data;\r\n\r\n        setAuditDetails(MoreData.data.slice(0,5).map(d=>{\r\n                    return{\r\n                    time: d.time.split('T')[0],\r\n                    action: d.method,\r\n                    user: d.userName.split('.')[0],\r\n                    }\r\n                }))\r\n          })}\r\n\r\n    //Function to create an url which will consist of id and title (document name)\r\n    const handleOnClick = () => {\r\n        history.push(`/actions/${id}/${title}/AuditTrails`);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        versions();},\r\n        [id])\r\n\r\n    //Function to display all the versions of a document.  \r\n    function versions() {\r\n    Axios.get(getUrl()+`alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}/versions`,\r\n    {\r\n        headers: {\r\n          Authorization: `Basic ${btoa(getToken())}`,\r\n       },\r\n      }).then((response)=>{\r\n        if (response.data.list.entries === !null){\r\n        setLatestVersion(response.data.list.entries[0].entry.id)}\r\n        else setLatestVersion(\"1.0\")\r\n    })\r\n    }\r\n\r\n    return(\r\n        <Fragment>\r\n            <div className=\"pdf-preview\">\r\n                <div id=\"details-pdf\" className=\"pdf_details\">\r\n                    <div className=\"details-p\">\r\n                        <button className=\"shareLink\"\r\n                        onClick={()=> (DocumentShare())}>\r\n                        <FontAwesomeIcon className=\"Icon\" icon={faShareAlt}/>Click here to share</button> \r\n\r\n                        <p className=\"top-heaading\">Document Type:{documentType} </p>\r\n                   \r\n                        <p>Created By: {createdBy}</p>\r\n                        <p>Created On: {createdAt}</p>\r\n                        <p>Last Modified: {modificationDate}</p>\r\n                        <p>File Size: {bytesToSize(docSize.sizeInBytes)}</p>\r\n\r\n                        <p>Activities:</p>  \r\n                        {auditDetails.map((audit) =>(\r\n                            <p> {audit.action} by {audit.user} on {audit.time}</p>\r\n                        ))}\r\n\r\n                        <p> <button id=\"audit-trail\" \r\n                            onClick={() => {handleOnClick()}}>\r\n                            (click to view detailed history)</button></p>\r\n\r\n                        <p>Current Version: {latestVersion}</p>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n     ) }\r\n\r\nexport default DocumentDetails; ","import React , { Fragment,useState,useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Search from \"../../SearchBar/SearchBar\";\r\nimport ProfilePic from \"../../Avtar/Avtar\";\r\nimport DocumentDetails from \"../../MoreDetails/MoreDetails\";\r\nimport \"../DocumentViewer/DocumentViewer.scss\"\r\nimport { Item } from '../../backButton/backButton';\r\nimport {getToken, getUrl} from  \"../../../Utils/Common\";\r\nimport { Animated } from \"react-animated-css\";\r\n\r\n/******************************************\r\n* File: DocumentViewer.js\r\n* Desc: To preview the files.\r\n* @returns: Preview of files.\r\n* @author: Shayane Basu, 06 October 2020\r\n********************************************/\r\n\r\n\r\n/****\r\n * Function for more details button. \r\n * @param: (1) Label for the button.\r\n * @param: (2) On Click event handler to handle the button click.\r\n * @return The more details button.\r\n ****/\r\nfunction ToggleButton({ label, onClick })\r\n {\r\n   return (\r\n    <button className=\"toggle\" onClick={onClick}>\r\n      {label} \r\n    </button>\r\n  );\r\n}\r\n\r\n/****\r\n * Function for the visibility of document details when more details button is clicked. \r\n * @param: (1) {visible} Visibility of the box with document details.\r\n * @param: (2) {children} Child of AnimatedVisibility Function.\r\n * @return Animation on more details box.\r\n ****/\r\nfunction AnimatedVisibility({ visible, children }) {\r\n  const [noDisplay, setNoDisplay] = useState(!visible);\r\n  useEffect(() => {\r\n    if (!visible) setTimeout(() => setNoDisplay(true), 650);\r\n    else setNoDisplay(false);\r\n  }, [visible]);\r\n\r\n  const style = noDisplay ? { display: \"none\" } : null;\r\n  return (\r\n    <Animated\r\n      isVisible={visible}\r\n      style={style}>\r\n      {children}\r\n    </Animated>\r\n  );\r\n}\r\n\r\n/****\r\n * Function for the open the document details when more details button is clicked. \r\n * @param: Visibility of the box with document details.\r\n * @return More details box with API call in DocumentDetails function.\r\n ****/\r\nfunction Sidebar({ open }) {\r\n  return (\r\n    <AnimatedVisibility\r\n      visible={open}\r\n      className=\"on-top\">\r\n\r\n      <div className=\"sidebar\">\r\n        <ul>\r\n          <li>{DocumentDetails()}</li>\r\n        </ul>\r\n      </div>\r\n    </AnimatedVisibility>\r\n  );\r\n}\r\n\r\n/****\r\n * Function to open the file previews. \r\n * @param: Title of the document which is previewed.\r\n * @return File preview as per the file type.\r\n ****/\r\nfunction DocPreview() {\r\n    const [sidebarIsOpen, setSidebarOpen] = useState(false);\r\n\r\n    let params = useParams();\r\n    const title = params.title;\r\n    const path = window.location.href; \r\n     \r\n    let nodeId =  path.split('/')\r\n    let id = nodeId[5]\r\n\r\n    var token = getToken();\r\n\r\n    const fileType = path.split('.').pop()\r\n    \r\n  //To open the more details box.\r\n  function toggleSidebar() {\r\n    setSidebarOpen(!sidebarIsOpen);\r\n  }\r\n\r\n//Accepted file types.\r\nconst acceptedFileTypes = [\"pdf\", \"jpeg\", \"PNG\", \"png\"]\r\n\r\n//Accepted Ms-Office file types.\r\nconst acceptedMsOfficeTypes = [\"ppt\", \"pptx\", \"doc\", \"docx\", \"xlsx\", \"xls\", \"odt\"]\r\n\r\n/****\r\n * Function to check the file type and open the file previews accordingly. \r\n * @return File preview as per the file type.\r\n ****/\r\nfunction Viewer() { \r\n  if (acceptedFileTypes.includes(fileType)) return PdfViewer() \r\n  else if (acceptedMsOfficeTypes.includes(fileType)) \r\n  return DisplayUsingOfficeApps()\r\n  else return error()\r\n}\r\n\r\n/****\r\n * Function to display error message in case of non-supported file types. \r\n * @return Error message inside iframe.\r\n ****/\r\nfunction error(){\r\n\r\n  console.log(\"Error Occured\")\r\n    return (\r\n    <Fragment>\r\n    <iframe \r\n    id=\"errorFrame\"\r\n    title=\"error\"\r\n    src={\"data:text/html,\"\r\n    +encodeURIComponent(\"This document can't be previewed. Please visit the full version.\")}\r\n    width=\"730rem\" \r\n    height=\"500rem\">\r\n      </iframe>\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n  /****\r\n * Function to open the file previews of Ms-office files with API call. \r\n * @return File preview of Ms-Office files.\r\n ****/\r\n  function DisplayUsingOfficeApps() {\r\n    return (\r\n      <Fragment>\r\n      <div className=\"docFrame\">\r\n      <iframe src={`https://view.officeapps.live.com/op/embed.aspx?src=`+\r\n      getUrl()+\r\n      `alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}/content?alf_ticket=${token}`} \r\n      title='mydocframe' \r\n      onLoad={() => 'null'}\r\n      id='mydocFrame'\r\n      width=\"730rem\" \r\n      height=\"500rem\" >\r\n      </iframe>\r\n      </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  /****\r\n * Function to open the file previews of pdf and jpg with API call. \r\n * @return File preview of pdf and jpg files.\r\n ****/\r\n const PdfViewer = () => {\r\n\r\n        return (\r\n          <Fragment>\r\n          \r\n          <div className=\"docFrame\">\r\n\r\n            <iframe src={getUrl()+\r\n            `/alfresco/api/-default-/public/alfresco/versions/1/nodes/${id}/content?attachment=false&alf_ticket=${token}#toolbar=0`}\r\n            onLoad={() => 'null'}\r\n            title='myframe' \r\n            id='myFrame'\r\n            width=\"730rem\" \r\n            height=\"500rem\" \r\n            marginWidth=\"1rem\"\r\n            allowFullScreen>\r\n          </iframe>\r\n          </div>\r\n          </Fragment>\r\n        );         \r\n    }\r\n\r\nreturn(\r\n    <Fragment>\r\n     <div id=\"second_section\">\r\n      <div className=\"title\">\r\n        <h2>{title}</h2>\r\n        <ProfilePic />\r\n\r\n      </div>\r\n      <div className=\"search-profile\">\r\n        <Search />\r\n      </div>\r\n      \r\n      <div className=\"buttons\">\r\n        <div className=\"back-button\">\r\n        <Item/>\r\n        </div>\r\n\r\n        <div className=\"details\">\r\n        <ToggleButton\r\n            label=\"More Details\"\r\n            isOpen={sidebarIsOpen}\r\n            onClick={toggleSidebar}\r\n            />\r\n        <Sidebar open={sidebarIsOpen}/>\r\n        </div>\r\n      </div>\r\n\r\n        <Viewer />                  \r\n        \r\n    </div>\r\n    </Fragment>\r\n)\r\n}\r\n\r\nexport default DocPreview;","import React, {useEffect,useState,Fragment} from 'react';\r\nimport { useParams , useHistory } from 'react-router-dom';\r\nimport { Item } from '../backButton/backButton';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport LoadingIndicator from '../../Utils/LoadingIndicator';\r\nimport { faTimesCircle, faFile , faFolder} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Axios from 'axios';\r\nimport { getToken,getUrl } from  \"../../Utils/Common\";\r\nimport Pagination from '../Pagination/Pagination';\r\n\r\nfunction SearchResult(){\r\n  let history = useHistory();\r\n  const[documents,setDocuments]=useState([]);\r\n\r\n   let params = useParams();\r\n   const result = params.result;\r\n   const [hasMoreItems , setMoreItems] = useState('');\r\n  const [skipCount , setSkipCount ] = useState('');\r\n\r\n  useEffect(()=>{\r\n    trackPromise(\r\n    Axios.post(getUrl()+`alfresco/api/-default-/public/search/versions/1/search`,\r\n            {\r\n              \"query\": {\r\n                \"query\": `${result}`\r\n              },\r\n              \"include\": [ \"properties\",\"path\"],\r\n              \"paging\": {\r\n                \"maxItems\": \"10\",\r\n                \"skipCount\": \"0\"\r\n              }\r\n            },\r\n            {\r\n              headers:\r\n              {\r\n                Authorization: `Basic ${btoa(getToken())}`\r\n              }\r\n              }).then((response) => {\r\n            setDocuments(response.data.list.entries)\r\n          }).catch((error) => {\r\n            console.log(error);\r\n          }\r\n          )\r\n    )\r\n  },[result])\r\n\r\n  function next(){\r\n    document.getElementById(\"myprevBtn\").disabled = false;\r\n    Axios.post(getUrl()+`alfresco/api/-default-/public/search/versions/1/search`,\r\n    {\r\n      \"query\": {\r\n        \"query\": `${result}`\r\n      },\r\n      \"include\": [ \"properties\",\"path\"],\r\n      \"paging\": {\r\n        \"maxItems\": \"10\",\r\n        \"skipCount\": `${skipCount}`\r\n      }\r\n    },\r\n    {headers:{\r\n       Authorization: `Basic ${btoa(getToken())}`\r\n     }}).then((response) => {\r\n      setDocuments(response.data.list.entries)\r\n       setMoreItems(response.data.list.pagination.hasMoreItems)\r\n     if (response.data.list.pagination.hasMoreItems){\r\n      setSkipCount(response.data.list.pagination.skipCount + 10)\r\n      document.getElementById(\"myBtn\").disabled = false;\r\n     }\r\n     else{\r\n      document.getElementById(\"myBtn\").disabled = true;\r\n     }\r\n     });\r\n   \r\n  }\r\n    \r\n  function previous(){\r\n    document.getElementById(\"myBtn\").disabled = false;\r\n    Axios.post(getUrl()+`alfresco/api/-default-/public/search/versions/1/search`,\r\n    {\r\n      \"query\": {\r\n        \"query\": `${result}`\r\n      },\r\n      \"include\": [ \"properties\",\"path\"],\r\n      \"paging\": {\r\n        \"maxItems\": \"10\",\r\n        \"skipCount\": `${skipCount}`\r\n      }\r\n    },\r\n    {headers:{\r\n       Authorization: `Basic ${btoa(getToken())}`\r\n     }}).then((response) => {\r\n      setDocuments(response.data.list.entries)\r\n      setMoreItems(response.data.list.pagination.hasMoreItems)\r\n      if (response.data.list.pagination.skipCount > 0){\r\n        setSkipCount(response.data.list.pagination.skipCount - 10)\r\n        document.getElementById(\"myprevBtn\").disabled = false;\r\n      }else{\r\n        document.getElementById(\"myprevBtn\").disabled = true;\r\n      }\r\n    }); }\r\n\r\n    function handleDocument(id , name , type){\r\n      type  ? history.push(`/document-details/${id}/${name}`) : history.push(`/document/${id}`)\r\n   }\r\n    \r\n    return( \r\n      <Fragment>\r\n         <div id=\"second_section\">\r\n            <h2>SearchResult</h2>\r\n            \r\n\r\n              <div className=\"filesShared\">\r\n                <table id=\"doc_list\">\r\n                  <thead>\r\n                  <tr id=\"icons\">\r\n                    <th id=\"item-names\">Item Name</th>\r\n                    <th id=\"shared\">Department Name</th>\r\n                    <th>Actions</th>\r\n                    <th id=\"action\"><Item/></th>\r\n                  </tr>\r\n                  </thead>\r\n                  { documents.map((d) => (\r\n                  <tbody key={d.entry.id}>\r\n                    <tr id=\"first_details\">\r\n                    <td className=\"file_name-u\"  \r\n                    onClick={() => handleDocument(\r\n                      d.entry.id,\r\n                      d.entry.name,\r\n                      d.entry.isFile)}\r\n                   ><FontAwesomeIcon \r\n                   className=\"pdf-file fas fa-file-pdf\" \r\n                     icon={d.entry.isFile  ? faFile : faFolder} \r\n                       />\r\n                    {d.entry.name}</td>\r\n                    <td className=\"details-u-s\">{d.entry.path.name}</td>\r\n                    <td className=\"delete-u-s\">\r\n                    <FontAwesomeIcon className=\"fas fa-times-circle\" icon={faTimesCircle} />\r\n                  </td>\r\n                  </tr>\r\n                </tbody>\r\n                ) )}\r\n              </table>\r\n              <LoadingIndicator/>\r\n            </div>\r\n            </div>\r\n\r\n        <div className=\"col-md-6\">\r\n        <Pagination\r\n          handlePrev={previous}\r\n          handleNext={next}\r\n              />  \r\n      </div>\r\n    </Fragment>\r\n\r\n          )\r\n          }\r\n\r\nexport default SearchResult;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getToken } from './Common';\r\n \r\n// handle the private routes\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => getToken() ? <Component {...props} /> : \r\n      <Redirect to={{ pathname: '/', state: { from: props.location } }} />}\r\n    />\r\n  )\r\n}\r\n \r\nexport default PrivateRoute;","import React, { Fragment, useState, useEffect } from \"react\";\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nimport LoginPage from \"../Components/Login/Login\"\r\nimport NavigationItems from \"../Components/Navigation/NavigationItems/NavigationItems\";\r\nimport SideDrawer from \"../Components/MobileMenu/MobileSidebar/Sidedrawer\";\r\nimport {DrawerToggleButton} from \"../Components/MobileMenu/MobileMenu\";\r\nimport Footer from \"../Components/Footer/Footer\";\r\nimport MyUploads from \"../Components/MyUploads/MyUploads\";\r\nimport Dashboard from \"../Components/Dashboard/Dashboard\";\r\nimport documentsList from \"../Components/Documents/DocumentList\";\r\nimport TrashDisplayFiles from \"../Components/Trash/TrashDisplay\"\r\nimport ManageShares from \"../Components/ManageShares/ManageShares\";\r\n//import SharedWithMe from \"../Components/sharedWithMe/sharedWithMe\";\r\nimport ChangePassword from \"../Components/ChangePassword/ChangePassword\";\r\nimport SubDocument from \"../Components/Documents/SubDocument/SubDocument\";\r\nimport FullAudittrails from \"../Components/MoreDetails/FullAuditTrails\";\r\nimport PdfViewer from \"../Components/Documents/DocumentViewer/DocumentViewer\";\r\nimport SearchResult from '../Components/SearchBar/SearchResult';\r\nimport DocPreview from \"../Components/Documents/DocumentViewer/DocumentViewer\";\r\nimport PrivateRoute from '../Utils/PrivateRoutes';\r\nimport './styles.scss';\r\nimport { getToken, removeUserLocal, getUrl } from \"../Utils/Common\";\r\nimport Backdrop from \"../Components/Backdrop/Backdrop\";\r\n\r\nconst Routings = withRouter (({ location },props) => {\r\n  const [authLoading, setAuthLoading] = useState(true);\r\n  const[sideDrawerOpen,setsideDrawerOpen]=useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = getToken();\r\n    if (!token) {\r\n      return;\r\n    }\r\n  })\r\n\r\n  axios.get(getUrl()+`alfresco/api/-default-/public/authentication/versions/1/tickets/-me-`,\r\n  {headers:{\r\n    Authorization: `Basic ${btoa(getToken())}`}\r\n  }).then(response => {\r\n    setAuthLoading(false);\r\n  }).catch(error => {\r\n      removeUserLocal();\r\n      setAuthLoading(false);\r\n    }, []);\r\n\r\n  if (authLoading && getToken()) {\r\n    return <div className=\"content\">Checking Authentication...</div>\r\n  }\r\n\r\n   let DrawerToggleQuickHandler=()=>{\r\n    setsideDrawerOpen((prevState)=>{\r\n      return {sideDrawerOpen: !prevState.sideDrawerOpen}\r\n    })\r\n  };\r\n\r\n  let backdropClickHandler=()=>{\r\n    setsideDrawerOpen(false);\r\n  }\r\n\r\n  let backdrop;\r\n    if(sideDrawerOpen){\r\n      backdrop=<Backdrop click={backdropClickHandler} show/>\r\n    }\r\n\r\n  return(\r\n    <Fragment>\r\n        <Route exact path=\"/\" component={LoginPage} />\r\n    \r\n      <div>\r\n        \r\n      {location.pathname !== '/' ? backdrop : null } \r\n      {location.pathname !== '/' && <SideDrawer show={sideDrawerOpen} click={backdropClickHandler}/>}\r\n      {backdrop}\r\n      {location.pathname !== '/' && <DrawerToggleButton drawertoggleHandler={DrawerToggleQuickHandler} />}\r\n      </div> \r\n\r\n      <div className=\"main_body\">\r\n        {location.pathname !== '/' && <NavigationItems />}\r\n      <div>\r\n\r\n        <PrivateRoute path=\"/dashboard\" component ={Dashboard} />\r\n        <PrivateRoute path=\"/documentsList\" component={documentsList} />\r\n        <PrivateRoute path=\"/myUploads\" component={MyUploads} />\r\n        <PrivateRoute path=\"/trashDisplay\" component={TrashDisplayFiles} />\r\n        <PrivateRoute path=\"/manageShares\" component={ManageShares} />\r\n        <PrivateRoute path=\"/changePassword\" component={ChangePassword} />\r\n        <PrivateRoute path=\"/document/:id\" component={SubDocument} />\r\n        <PrivateRoute path=\"/actions/:id/:name/AuditTrails\" component={FullAudittrails}/>\r\n        <PrivateRoute path=\"/doc/:id/:name\" component={PdfViewer} />\r\n        <PrivateRoute path=\"/search/:result\" component={SearchResult} />\r\n\r\n        <PrivateRoute path=\"/document-details/:id/:title\" \r\n        component={DocPreview} />  \r\n\r\n        {location.pathname !== '/' &&  <Footer />}\r\n      </div>\r\n      </div>\r\n\r\n    </Fragment>\r\n  )\r\n}\r\n)\r\n\r\nexport default Routings;","import React, { Fragment } from \"react\";\r\nimport './styles.scss';\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\n\r\nimport Routings from './Routings';\r\n\r\nconst App = () => {\r\n  return (\r\n    <Fragment>\r\n      <Router>\r\n        <Routings />\r\n      </Router>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./Containers/App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n    <App />,\r\n  rootElement\r\n);\r\n "],"sourceRoot":""}